{
  "{\"filename\":\"/home/core/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "body-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bodyParser"
              }
            ]
          },
          {
            "source": "cors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cors"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "express-handlebars",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "exphbs"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          },
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "morgan"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "./config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "./middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "middleware"
              }
            ]
          },
          {
            "source": "./controllers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "controllers"
              }
            ]
          },
          {
            "source": "./models",
            "imported": [],
            "specifiers": []
          },
          {
            "source": "./logger",
            "imported": [],
            "specifiers": []
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/index.js",
      "filenameRelative": "/home/core/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _cors = require('cors');\n\nvar _cors2 = _interopRequireDefault(_cors);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _expressHandlebars = require('express-handlebars');\n\nvar _expressHandlebars2 = _interopRequireDefault(_expressHandlebars);\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _middleware = require('./middleware');\n\nvar _middleware2 = _interopRequireDefault(_middleware);\n\nvar _controllers = require('./controllers');\n\nvar _controllers2 = _interopRequireDefault(_controllers);\n\nrequire('./models');\n\nrequire('./logger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Initiating express\nvar app = (0, _express2.default)();\nvar server = _http2.default.Server(app);\nvar viewPath = _path2.default.join(__dirname, 'views');\nvar hbs = (0, _expressHandlebars2.default)({\n  layoutsDir: viewPath,\n  extname: '.hbs'\n});\n\napp.server = server;\n\n// Express configuration\napp.set('port', _config2.default.get('web:port') || 3000);\napp.set('views', viewPath);\napp.set('view engine', 'handlebars');\n\n// view engine\napp.engine('html', hbs);\n\n// static files\n// app.use('/static', express.static(path.join(__dirname, 'public'), { maxAge: 31557600000 }))\n\n// logger\napp.use((0, _morgan2.default)('dev'));\n\n// 3rd party middleware\napp.use((0, _cors2.default)({\n  exposedHeaders: _config2.default.get('web:corsHeaders')\n}));\n\napp.use(_bodyParser2.default.json({\n  limit: _config2.default.bodyLimit\n}));\n\n// internal middleware\napp.use((0, _middleware2.default)());\n\n// Setup controllers\n(0, _controllers2.default)(app);\n\n/**\n * Start Express server.\n * TODO: Instead of callback try incorporating promises using bluebird.js\n */\nserver.listen(app.get('port'), '0.0.0.0', function () {\n  console.log('%s App is running at http://localhost:%d in %s mode ', app.get('port'));\n  console.log('  Press CTRL-C to stop\\n');\n});\n\nexports.default = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsInNlcnZlciIsIlNlcnZlciIsInZpZXdQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImhicyIsImxheW91dHNEaXIiLCJleHRuYW1lIiwic2V0IiwiZ2V0IiwiZW5naW5lIiwidXNlIiwiZXhwb3NlZEhlYWRlcnMiLCJqc29uIiwibGltaXQiLCJib2R5TGltaXQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7QUFDQSxJQUFNQSxNQUFNLHdCQUFaO0FBQ0EsSUFBTUMsU0FBUyxlQUFLQyxNQUFMLENBQVlGLEdBQVosQ0FBZjtBQUNBLElBQU1HLFdBQVcsZUFBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLE9BQXJCLENBQWpCO0FBQ0EsSUFBTUMsTUFBTSxpQ0FBTztBQUNqQkMsY0FBWUosUUFESztBQUVqQkssV0FBUztBQUZRLENBQVAsQ0FBWjs7QUFLQVIsSUFBSUMsTUFBSixHQUFhQSxNQUFiOztBQUVBO0FBQ0FELElBQUlTLEdBQUosQ0FBUSxNQUFSLEVBQWdCLGlCQUFPQyxHQUFQLENBQVcsVUFBWCxLQUEwQixJQUExQztBQUNBVixJQUFJUyxHQUFKLENBQVEsT0FBUixFQUFpQk4sUUFBakI7QUFDQUgsSUFBSVMsR0FBSixDQUFRLGFBQVIsRUFBdUIsWUFBdkI7O0FBRUE7QUFDQVQsSUFBSVcsTUFBSixDQUFXLE1BQVgsRUFBbUJMLEdBQW5COztBQUVBO0FBQ0E7O0FBRUE7QUFDQU4sSUFBSVksR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjs7QUFFQTtBQUNBWixJQUFJWSxHQUFKLENBQVEsb0JBQUs7QUFDWEMsa0JBQWdCLGlCQUFPSCxHQUFQLENBQVcsaUJBQVg7QUFETCxDQUFMLENBQVI7O0FBSUFWLElBQUlZLEdBQUosQ0FBUSxxQkFBV0UsSUFBWCxDQUFnQjtBQUN0QkMsU0FBTyxpQkFBT0M7QUFEUSxDQUFoQixDQUFSOztBQUlBO0FBQ0FoQixJQUFJWSxHQUFKLENBQVEsMkJBQVI7O0FBRUE7QUFDQSwyQkFBWVosR0FBWjs7QUFFQTs7OztBQUlBQyxPQUFPZ0IsTUFBUCxDQUFjakIsSUFBSVUsR0FBSixDQUFRLE1BQVIsQ0FBZCxFQUErQixTQUEvQixFQUEwQyxZQUFNO0FBQzlDUSxVQUFRQyxHQUFSLENBQVksc0RBQVosRUFBb0VuQixJQUFJVSxHQUFKLENBQVEsTUFBUixDQUFwRTtBQUNBUSxVQUFRQyxHQUFSLENBQVksMEJBQVo7QUFDRCxDQUhEOztrQkFLZW5CLEciLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgZXhwaGJzIGZyb20gJ2V4cHJlc3MtaGFuZGxlYmFycydcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnXG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbidcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IG1pZGRsZXdhcmUgZnJvbSAnLi9taWRkbGV3YXJlJ1xuaW1wb3J0IGNvbnRyb2xsZXJzIGZyb20gJy4vY29udHJvbGxlcnMnXG5pbXBvcnQgJy4vbW9kZWxzJ1xuaW1wb3J0ICcuL2xvZ2dlcidcbi8vIEluaXRpYXRpbmcgZXhwcmVzc1xuY29uc3QgYXBwID0gZXhwcmVzcygpXG5jb25zdCBzZXJ2ZXIgPSBodHRwLlNlcnZlcihhcHApXG5jb25zdCB2aWV3UGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpXG5jb25zdCBoYnMgPSBleHBoYnMoe1xuICBsYXlvdXRzRGlyOiB2aWV3UGF0aCxcbiAgZXh0bmFtZTogJy5oYnMnLFxufSlcblxuYXBwLnNlcnZlciA9IHNlcnZlclxuXG4vLyBFeHByZXNzIGNvbmZpZ3VyYXRpb25cbmFwcC5zZXQoJ3BvcnQnLCBjb25maWcuZ2V0KCd3ZWI6cG9ydCcpIHx8IDMwMDApXG5hcHAuc2V0KCd2aWV3cycsIHZpZXdQYXRoKVxuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnaGFuZGxlYmFycycpXG5cbi8vIHZpZXcgZW5naW5lXG5hcHAuZW5naW5lKCdodG1sJywgaGJzKVxuXG4vLyBzdGF0aWMgZmlsZXNcbi8vIGFwcC51c2UoJy9zdGF0aWMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJyksIHsgbWF4QWdlOiAzMTU1NzYwMDAwMCB9KSlcblxuLy8gbG9nZ2VyXG5hcHAudXNlKG1vcmdhbignZGV2JykpXG5cbi8vIDNyZCBwYXJ0eSBtaWRkbGV3YXJlXG5hcHAudXNlKGNvcnMoe1xuICBleHBvc2VkSGVhZGVyczogY29uZmlnLmdldCgnd2ViOmNvcnNIZWFkZXJzJyksXG59KSlcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oe1xuICBsaW1pdDogY29uZmlnLmJvZHlMaW1pdCxcbn0pKVxuXG4vLyBpbnRlcm5hbCBtaWRkbGV3YXJlXG5hcHAudXNlKG1pZGRsZXdhcmUoKSlcblxuLy8gU2V0dXAgY29udHJvbGxlcnNcbmNvbnRyb2xsZXJzKGFwcClcblxuLyoqXG4gKiBTdGFydCBFeHByZXNzIHNlcnZlci5cbiAqIFRPRE86IEluc3RlYWQgb2YgY2FsbGJhY2sgdHJ5IGluY29ycG9yYXRpbmcgcHJvbWlzZXMgdXNpbmcgYmx1ZWJpcmQuanNcbiAqL1xuc2VydmVyLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICcwLjAuMC4wJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnJXMgQXBwIGlzIHJ1bm5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDolZCBpbiAlcyBtb2RlICcsIGFwcC5nZXQoJ3BvcnQnKSlcbiAgY29uc29sZS5sb2coJyAgUHJlc3MgQ1RSTC1DIHRvIHN0b3BcXG4nKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "server",
        "Server",
        "viewPath",
        "join",
        "__dirname",
        "hbs",
        "layoutsDir",
        "extname",
        "set",
        "get",
        "engine",
        "use",
        "exposedHeaders",
        "json",
        "limit",
        "bodyLimit",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;AACA,IAAMA,MAAM,wBAAZ;AACA,IAAMC,SAAS,eAAKC,MAAL,CAAYF,GAAZ,CAAf;AACA,IAAMG,WAAW,eAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACA,IAAMC,MAAM,iCAAO;AACjBC,cAAYJ,QADK;AAEjBK,WAAS;AAFQ,CAAP,CAAZ;;AAKAR,IAAIC,MAAJ,GAAaA,MAAb;;AAEA;AACAD,IAAIS,GAAJ,CAAQ,MAAR,EAAgB,iBAAOC,GAAP,CAAW,UAAX,KAA0B,IAA1C;AACAV,IAAIS,GAAJ,CAAQ,OAAR,EAAiBN,QAAjB;AACAH,IAAIS,GAAJ,CAAQ,aAAR,EAAuB,YAAvB;;AAEA;AACAT,IAAIW,MAAJ,CAAW,MAAX,EAAmBL,GAAnB;;AAEA;AACA;;AAEA;AACAN,IAAIY,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA;AACAZ,IAAIY,GAAJ,CAAQ,oBAAK;AACXC,kBAAgB,iBAAOH,GAAP,CAAW,iBAAX;AADL,CAAL,CAAR;;AAIAV,IAAIY,GAAJ,CAAQ,qBAAWE,IAAX,CAAgB;AACtBC,SAAO,iBAAOC;AADQ,CAAhB,CAAR;;AAIA;AACAhB,IAAIY,GAAJ,CAAQ,2BAAR;;AAEA;AACA,2BAAYZ,GAAZ;;AAEA;;;;AAIAC,OAAOgB,MAAP,CAAcjB,IAAIU,GAAJ,CAAQ,MAAR,CAAd,EAA+B,SAA/B,EAA0C,YAAM;AAC9CQ,UAAQC,GAAR,CAAY,sDAAZ,EAAoEnB,IAAIU,GAAJ,CAAQ,MAAR,CAApE;AACAQ,UAAQC,GAAR,CAAY,0BAAZ;AACD,CAHD;;kBAKenB,G",
      "file": "index.js",
      "sourceRoot": "/home/core",
      "sourcesContent": [
        "import bodyParser from 'body-parser'\nimport cors from 'cors'\nimport express from 'express'\nimport exphbs from 'express-handlebars'\nimport http from 'http'\nimport morgan from 'morgan'\nimport path from 'path'\nimport config from './config'\nimport middleware from './middleware'\nimport controllers from './controllers'\nimport './models'\nimport './logger'\n// Initiating express\nconst app = express()\nconst server = http.Server(app)\nconst viewPath = path.join(__dirname, 'views')\nconst hbs = exphbs({\n  layoutsDir: viewPath,\n  extname: '.hbs',\n})\n\napp.server = server\n\n// Express configuration\napp.set('port', config.get('web:port') || 3000)\napp.set('views', viewPath)\napp.set('view engine', 'handlebars')\n\n// view engine\napp.engine('html', hbs)\n\n// static files\n// app.use('/static', express.static(path.join(__dirname, 'public'), { maxAge: 31557600000 }))\n\n// logger\napp.use(morgan('dev'))\n\n// 3rd party middleware\napp.use(cors({\n  exposedHeaders: config.get('web:corsHeaders'),\n}))\n\napp.use(bodyParser.json({\n  limit: config.bodyLimit,\n}))\n\n// internal middleware\napp.use(middleware())\n\n// Setup controllers\ncontrollers(app)\n\n/**\n * Start Express server.\n * TODO: Instead of callback try incorporating promises using bluebird.js\n */\nserver.listen(app.get('port'), '0.0.0.0', () => {\n  console.log('%s App is running at http://localhost:%d in %s mode ', app.get('port'))\n  console.log('  Press CTRL-C to stop\\n')\n})\n\nexport default app\n"
      ]
    },
    "mtime": 1489569971066
  },
  "{\"filename\":\"/home/core/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "nconf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "nconf"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/config/index.js",
      "filenameRelative": "/home/core/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _nconf = require('nconf');\n\nvar _nconf2 = _interopRequireDefault(_nconf);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar loadNConf = function loadNConf() {\n  var configPath = __dirname;\n  var ENV_DEV = 'development';\n  var ENV_PROD = 'production';\n  var PATH_DEV = 'env/config.development.json';\n  var PATH_PROD = 'env/config.production.json';\n  var PATH_ACTIONS_DEV = 'env/actions.development.json';\n  var configDir = PATH_DEV;\n  var actionConfigDir = PATH_ACTIONS_DEV;\n\n  // Loads environment variables\n  _nconf2.default.argv().env();\n  var nodeEnv = _nconf2.default.get('NODE_ENV');\n\n  if (nodeEnv === ENV_DEV) {\n    configDir = _path2.default.join(configPath, PATH_DEV);\n    actionConfigDir = _path2.default.join(configPath, PATH_ACTIONS_DEV);\n  } else if (nodeEnv === ENV_PROD) {\n    configDir = _path2.default.join(configPath, PATH_PROD);\n  }\n\n  // Loads configs\n  _nconf2.default.file('hub', { file: '' + configDir });\n  _nconf2.default.file('action', { file: '' + actionConfigDir });\n  _nconf2.default.file('web', { file: configDir + 'web.json' });\n  return _nconf2.default;\n};\n\nexports.default = loadNConf();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImxvYWROQ29uZiIsImNvbmZpZ1BhdGgiLCJfX2Rpcm5hbWUiLCJFTlZfREVWIiwiRU5WX1BST0QiLCJQQVRIX0RFViIsIlBBVEhfUFJPRCIsIlBBVEhfQUNUSU9OU19ERVYiLCJjb25maWdEaXIiLCJhY3Rpb25Db25maWdEaXIiLCJhcmd2IiwiZW52Iiwibm9kZUVudiIsImdldCIsImpvaW4iLCJmaWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxZQUFZLFNBQVpBLFNBQVksR0FBTTtBQUN0QixNQUFNQyxhQUFhQyxTQUFuQjtBQUNBLE1BQU1DLFVBQVUsYUFBaEI7QUFDQSxNQUFNQyxXQUFXLFlBQWpCO0FBQ0EsTUFBTUMsV0FBVyw2QkFBakI7QUFDQSxNQUFNQyxZQUFZLDRCQUFsQjtBQUNBLE1BQU1DLG1CQUFtQiw4QkFBekI7QUFDQSxNQUFJQyxZQUFZSCxRQUFoQjtBQUNBLE1BQUlJLGtCQUFrQkYsZ0JBQXRCOztBQUVBO0FBQ0Esa0JBQU1HLElBQU4sR0FBYUMsR0FBYjtBQUNBLE1BQU1DLFVBQVUsZ0JBQU1DLEdBQU4sQ0FBVSxVQUFWLENBQWhCOztBQUVBLE1BQUlELFlBQVlULE9BQWhCLEVBQXlCO0FBQ3ZCSyxnQkFBWSxlQUFLTSxJQUFMLENBQVViLFVBQVYsRUFBc0JJLFFBQXRCLENBQVo7QUFDQUksc0JBQWtCLGVBQUtLLElBQUwsQ0FBVWIsVUFBVixFQUFzQk0sZ0JBQXRCLENBQWxCO0FBQ0QsR0FIRCxNQUdPLElBQUlLLFlBQVlSLFFBQWhCLEVBQTBCO0FBQy9CSSxnQkFBWSxlQUFLTSxJQUFMLENBQVViLFVBQVYsRUFBc0JLLFNBQXRCLENBQVo7QUFDRDs7QUFFRDtBQUNBLGtCQUFNUyxJQUFOLENBQVcsS0FBWCxFQUFrQixFQUFFQSxXQUFTUCxTQUFYLEVBQWxCO0FBQ0Esa0JBQU1PLElBQU4sQ0FBVyxRQUFYLEVBQXFCLEVBQUVBLFdBQVNOLGVBQVgsRUFBckI7QUFDQSxrQkFBTU0sSUFBTixDQUFXLEtBQVgsRUFBa0IsRUFBRUEsTUFBU1AsU0FBVCxhQUFGLEVBQWxCO0FBQ0E7QUFDRCxDQTFCRDs7a0JBNEJlUixXIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5jb25mIGZyb20gJ25jb25mJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuY29uc3QgbG9hZE5Db25mID0gKCkgPT4ge1xuICBjb25zdCBjb25maWdQYXRoID0gX19kaXJuYW1lXG4gIGNvbnN0IEVOVl9ERVYgPSAnZGV2ZWxvcG1lbnQnXG4gIGNvbnN0IEVOVl9QUk9EID0gJ3Byb2R1Y3Rpb24nXG4gIGNvbnN0IFBBVEhfREVWID0gJ2Vudi9jb25maWcuZGV2ZWxvcG1lbnQuanNvbidcbiAgY29uc3QgUEFUSF9QUk9EID0gJ2Vudi9jb25maWcucHJvZHVjdGlvbi5qc29uJ1xuICBjb25zdCBQQVRIX0FDVElPTlNfREVWID0gJ2Vudi9hY3Rpb25zLmRldmVsb3BtZW50Lmpzb24nXG4gIGxldCBjb25maWdEaXIgPSBQQVRIX0RFVlxuICBsZXQgYWN0aW9uQ29uZmlnRGlyID0gUEFUSF9BQ1RJT05TX0RFVlxuXG4gIC8vIExvYWRzIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICBuY29uZi5hcmd2KCkuZW52KClcbiAgY29uc3Qgbm9kZUVudiA9IG5jb25mLmdldCgnTk9ERV9FTlYnKVxuXG4gIGlmIChub2RlRW52ID09PSBFTlZfREVWKSB7XG4gICAgY29uZmlnRGlyID0gcGF0aC5qb2luKGNvbmZpZ1BhdGgsIFBBVEhfREVWKVxuICAgIGFjdGlvbkNvbmZpZ0RpciA9IHBhdGguam9pbihjb25maWdQYXRoLCBQQVRIX0FDVElPTlNfREVWKVxuICB9IGVsc2UgaWYgKG5vZGVFbnYgPT09IEVOVl9QUk9EKSB7XG4gICAgY29uZmlnRGlyID0gcGF0aC5qb2luKGNvbmZpZ1BhdGgsIFBBVEhfUFJPRClcbiAgfVxuXG4gIC8vIExvYWRzIGNvbmZpZ3NcbiAgbmNvbmYuZmlsZSgnaHViJywgeyBmaWxlOiBgJHtjb25maWdEaXJ9YCB9KVxuICBuY29uZi5maWxlKCdhY3Rpb24nLCB7IGZpbGU6IGAke2FjdGlvbkNvbmZpZ0Rpcn1gIH0pXG4gIG5jb25mLmZpbGUoJ3dlYicsIHsgZmlsZTogYCR7Y29uZmlnRGlyfXdlYi5qc29uYCB9KVxuICByZXR1cm4gbmNvbmZcbn1cblxuZXhwb3J0IGRlZmF1bHQgbG9hZE5Db25mKClcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "loadNConf",
        "configPath",
        "__dirname",
        "ENV_DEV",
        "ENV_PROD",
        "PATH_DEV",
        "PATH_PROD",
        "PATH_ACTIONS_DEV",
        "configDir",
        "actionConfigDir",
        "argv",
        "env",
        "nodeEnv",
        "get",
        "join",
        "file"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,SAAZA,SAAY,GAAM;AACtB,MAAMC,aAAaC,SAAnB;AACA,MAAMC,UAAU,aAAhB;AACA,MAAMC,WAAW,YAAjB;AACA,MAAMC,WAAW,6BAAjB;AACA,MAAMC,YAAY,4BAAlB;AACA,MAAMC,mBAAmB,8BAAzB;AACA,MAAIC,YAAYH,QAAhB;AACA,MAAII,kBAAkBF,gBAAtB;;AAEA;AACA,kBAAMG,IAAN,GAAaC,GAAb;AACA,MAAMC,UAAU,gBAAMC,GAAN,CAAU,UAAV,CAAhB;;AAEA,MAAID,YAAYT,OAAhB,EAAyB;AACvBK,gBAAY,eAAKM,IAAL,CAAUb,UAAV,EAAsBI,QAAtB,CAAZ;AACAI,sBAAkB,eAAKK,IAAL,CAAUb,UAAV,EAAsBM,gBAAtB,CAAlB;AACD,GAHD,MAGO,IAAIK,YAAYR,QAAhB,EAA0B;AAC/BI,gBAAY,eAAKM,IAAL,CAAUb,UAAV,EAAsBK,SAAtB,CAAZ;AACD;;AAED;AACA,kBAAMS,IAAN,CAAW,KAAX,EAAkB,EAAEA,WAASP,SAAX,EAAlB;AACA,kBAAMO,IAAN,CAAW,QAAX,EAAqB,EAAEA,WAASN,eAAX,EAArB;AACA,kBAAMM,IAAN,CAAW,KAAX,EAAkB,EAAEA,MAASP,SAAT,aAAF,EAAlB;AACA;AACD,CA1BD;;kBA4BeR,W",
      "file": "index.js",
      "sourceRoot": "/home/core/config",
      "sourcesContent": [
        "import nconf from 'nconf'\nimport path from 'path'\n\nconst loadNConf = () => {\n  const configPath = __dirname\n  const ENV_DEV = 'development'\n  const ENV_PROD = 'production'\n  const PATH_DEV = 'env/config.development.json'\n  const PATH_PROD = 'env/config.production.json'\n  const PATH_ACTIONS_DEV = 'env/actions.development.json'\n  let configDir = PATH_DEV\n  let actionConfigDir = PATH_ACTIONS_DEV\n\n  // Loads environment variables\n  nconf.argv().env()\n  const nodeEnv = nconf.get('NODE_ENV')\n\n  if (nodeEnv === ENV_DEV) {\n    configDir = path.join(configPath, PATH_DEV)\n    actionConfigDir = path.join(configPath, PATH_ACTIONS_DEV)\n  } else if (nodeEnv === ENV_PROD) {\n    configDir = path.join(configPath, PATH_PROD)\n  }\n\n  // Loads configs\n  nconf.file('hub', { file: `${configDir}` })\n  nconf.file('action', { file: `${actionConfigDir}` })\n  nconf.file('web', { file: `${configDir}web.json` })\n  return nconf\n}\n\nexport default loadNConf()\n"
      ]
    },
    "mtime": 1488279442312
  },
  "{\"filename\":\"/home/core/middleware/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/middleware\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/middleware/index.js",
      "filenameRelative": "/home/core/middleware/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/middleware",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/middleware",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar middlewareCore = function middlewareCore() {\n  var routes = (0, _express.Router)();\n  // add middleware here\n  return routes;\n};\n\nexports.default = middlewareCore;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1pZGRsZXdhcmVDb3JlIiwicm91dGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxpQkFBaUIsU0FBakJBLGNBQWlCLEdBQU07QUFDM0IsTUFBTUMsU0FBUyxzQkFBZjtBQUNBO0FBQ0EsU0FBT0EsTUFBUDtBQUNELENBSkQ7O2tCQU1lRCxjIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnXG5cbmNvbnN0IG1pZGRsZXdhcmVDb3JlID0gKCkgPT4ge1xuICBjb25zdCByb3V0ZXMgPSBSb3V0ZXIoKVxuICAvLyBhZGQgbWlkZGxld2FyZSBoZXJlXG4gIHJldHVybiByb3V0ZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWlkZGxld2FyZUNvcmVcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "middlewareCore",
        "routes"
      ],
      "mappings": ";;;;;;AAAA;;AAEA,IAAMA,iBAAiB,SAAjBA,cAAiB,GAAM;AAC3B,MAAMC,SAAS,sBAAf;AACA;AACA,SAAOA,MAAP;AACD,CAJD;;kBAMeD,c",
      "file": "index.js",
      "sourceRoot": "/home/core/middleware",
      "sourcesContent": [
        "import { Router } from 'express'\n\nconst middlewareCore = () => {\n  const routes = Router()\n  // add middleware here\n  return routes\n}\n\nexport default middlewareCore\n"
      ]
    },
    "mtime": 1486896491929
  },
  "{\"filename\":\"/home/core/controllers/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "socket.io",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "SocketIO"
              }
            ]
          },
          {
            "source": "../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "./api",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "api"
              }
            ]
          },
          {
            "source": "./html",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "html"
              }
            ]
          },
          {
            "source": "./webhooks",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "webhook"
              }
            ]
          },
          {
            "source": "./app",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "apps"
              }
            ]
          },
          {
            "source": "../adapter",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "apiAdapter"
              }
            ]
          },
          {
            "source": "../pubsub",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pubsub"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/controllers/index.js",
      "filenameRelative": "/home/core/controllers/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _socket = require('socket.io');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _api = require('./api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _html = require('./html');\n\nvar _html2 = _interopRequireDefault(_html);\n\nvar _webhooks = require('./webhooks');\n\nvar _webhooks2 = _interopRequireDefault(_webhooks);\n\nvar _app = require('./app');\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _adapter = require('../adapter');\n\nvar _adapter2 = _interopRequireDefault(_adapter);\n\nvar _pubsub = require('../pubsub');\n\nvar _pubsub2 = _interopRequireDefault(_pubsub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apiVersion = _config2.default.get('api:version');\n\n/**\n * Initialises routing and websocket portion of express\n * @param app\n */\nvar setup = function setup(app) {\n  // IO initialized\n  var io = (0, _socket2.default)(app.server);\n  // Pubsub used for communication with apis\n  _pubsub2.default.initialize(io);\n  // API adapter loads and inits websocket client of all APIs\n  _adapter2.default.initialize(io);\n\n  // html router\n  app.use('/', (0, _html2.default)());\n\n  // api router\n  app.use('/api/' + apiVersion, (0, _api2.default)());\n\n  // External webhook router\n  app.use('/webhook', (0, _webhooks2.default)());\n\n  // APIs actions controller\n  _app2.default.setup();\n};\n\nexports.default = setup;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaVZlcnNpb24iLCJnZXQiLCJzZXR1cCIsImFwcCIsImlvIiwic2VydmVyIiwiaW5pdGlhbGl6ZSIsInVzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsYUFBYSxpQkFBT0MsR0FBUCxDQUFXLGFBQVgsQ0FBbkI7O0FBRUE7Ozs7QUFJQSxJQUFNQyxRQUFRLFNBQVJBLEtBQVEsQ0FBQ0MsR0FBRCxFQUFTO0FBQ3RCO0FBQ0MsTUFBTUMsS0FBSyxzQkFBU0QsSUFBSUUsTUFBYixDQUFYO0FBQ0Q7QUFDQyxtQkFBT0MsVUFBUCxDQUFrQkYsRUFBbEI7QUFDRDtBQUNDLG9CQUFXRSxVQUFYLENBQXNCRixFQUF0Qjs7QUFFRDtBQUNDRCxNQUFJSSxHQUFKLENBQVEsR0FBUixFQUFhLHFCQUFiOztBQUVEO0FBQ0NKLE1BQUlJLEdBQUosV0FBZ0JQLFVBQWhCLEVBQThCLG9CQUE5Qjs7QUFFRDtBQUNDRyxNQUFJSSxHQUFKLENBQVEsVUFBUixFQUFvQix5QkFBcEI7O0FBRUQ7QUFDQyxnQkFBS0wsS0FBTDtBQUNELENBbkJEOztrQkFxQmVBLEsiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2NrZXRJTyBmcm9tICdzb2NrZXQuaW8nXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCBhcGkgZnJvbSAnLi9hcGknXG5pbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwnXG5pbXBvcnQgd2ViaG9vayBmcm9tICcuL3dlYmhvb2tzJ1xuaW1wb3J0IGFwcHMgZnJvbSAnLi9hcHAnXG5pbXBvcnQgYXBpQWRhcHRlciBmcm9tICcuLi9hZGFwdGVyJ1xuaW1wb3J0IHB1YnN1YiBmcm9tICcuLi9wdWJzdWInXG5cbmNvbnN0IGFwaVZlcnNpb24gPSBjb25maWcuZ2V0KCdhcGk6dmVyc2lvbicpXG5cbi8qKlxuICogSW5pdGlhbGlzZXMgcm91dGluZyBhbmQgd2Vic29ja2V0IHBvcnRpb24gb2YgZXhwcmVzc1xuICogQHBhcmFtIGFwcFxuICovXG5jb25zdCBzZXR1cCA9IChhcHApID0+IHtcblx0Ly8gSU8gaW5pdGlhbGl6ZWRcbiAgY29uc3QgaW8gPSBTb2NrZXRJTyhhcHAuc2VydmVyKVxuXHQvLyBQdWJzdWIgdXNlZCBmb3IgY29tbXVuaWNhdGlvbiB3aXRoIGFwaXNcbiAgcHVic3ViLmluaXRpYWxpemUoaW8pXG5cdC8vIEFQSSBhZGFwdGVyIGxvYWRzIGFuZCBpbml0cyB3ZWJzb2NrZXQgY2xpZW50IG9mIGFsbCBBUElzXG4gIGFwaUFkYXB0ZXIuaW5pdGlhbGl6ZShpbylcblxuXHQvLyBodG1sIHJvdXRlclxuICBhcHAudXNlKCcvJywgaHRtbCgpKVxuXG5cdC8vIGFwaSByb3V0ZXJcbiAgYXBwLnVzZShgL2FwaS8ke2FwaVZlcnNpb259YCwgYXBpKCkpXG5cblx0Ly8gRXh0ZXJuYWwgd2ViaG9vayByb3V0ZXJcbiAgYXBwLnVzZSgnL3dlYmhvb2snLCB3ZWJob29rKCkpXG5cblx0Ly8gQVBJcyBhY3Rpb25zIGNvbnRyb2xsZXJcbiAgYXBwcy5zZXR1cCgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHNldHVwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "apiVersion",
        "get",
        "setup",
        "app",
        "io",
        "server",
        "initialize",
        "use"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,iBAAOC,GAAP,CAAW,aAAX,CAAnB;;AAEA;;;;AAIA,IAAMC,QAAQ,SAARA,KAAQ,CAACC,GAAD,EAAS;AACtB;AACC,MAAMC,KAAK,sBAASD,IAAIE,MAAb,CAAX;AACD;AACC,mBAAOC,UAAP,CAAkBF,EAAlB;AACD;AACC,oBAAWE,UAAX,CAAsBF,EAAtB;;AAED;AACCD,MAAII,GAAJ,CAAQ,GAAR,EAAa,qBAAb;;AAED;AACCJ,MAAII,GAAJ,WAAgBP,UAAhB,EAA8B,oBAA9B;;AAED;AACCG,MAAII,GAAJ,CAAQ,UAAR,EAAoB,yBAApB;;AAED;AACC,gBAAKL,KAAL;AACD,CAnBD;;kBAqBeA,K",
      "file": "index.js",
      "sourceRoot": "/home/core/controllers",
      "sourcesContent": [
        "import SocketIO from 'socket.io'\nimport config from '../config'\nimport api from './api'\nimport html from './html'\nimport webhook from './webhooks'\nimport apps from './app'\nimport apiAdapter from '../adapter'\nimport pubsub from '../pubsub'\n\nconst apiVersion = config.get('api:version')\n\n/**\n * Initialises routing and websocket portion of express\n * @param app\n */\nconst setup = (app) => {\n\t// IO initialized\n  const io = SocketIO(app.server)\n\t// Pubsub used for communication with apis\n  pubsub.initialize(io)\n\t// API adapter loads and inits websocket client of all APIs\n  apiAdapter.initialize(io)\n\n\t// html router\n  app.use('/', html())\n\n\t// api router\n  app.use(`/api/${apiVersion}`, api())\n\n\t// External webhook router\n  app.use('/webhook', webhook())\n\n\t// APIs actions controller\n  apps.setup()\n}\n\nexport default setup\n"
      ]
    },
    "mtime": 1489225758904
  },
  "{\"filename\":\"/home/core/controllers/api/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/controllers/api\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          },
          {
            "source": "../../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../../models/single",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "single"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/controllers/api/index.js",
      "filenameRelative": "/home/core/controllers/api/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/controllers/api",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/controllers/api",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _config = require('../../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _single = require('../../models/single');\n\nvar _single2 = _interopRequireDefault(_single);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  var api = (0, _express.Router)();\n\n  /**\r\n    * Retrieves all apps\r\n    * /apps\r\n   */\n  api.get('/apps', function (req, res) {\n    console.log('get all apps');\n    _single2.default.App.listAll().then(function (result) {\n      res.json({ result: result });\n    });\n  });\n\n  /**\r\n    * Retreives index info of api\r\n   */\n  api.get('/', function (req, res) {\n    var result = _config2.default.get('api');\n    res.json({ result: result });\n  });\n  return api;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaSIsImdldCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJBcHAiLCJsaXN0QWxsIiwidGhlbiIsInJlc3VsdCIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0E7Ozs7OztrQkFFZSxZQUFNO0FBQ25CLE1BQU1BLE1BQU0sc0JBQVo7O0FBRUQ7Ozs7QUFJQ0EsTUFBSUMsR0FBSixDQUFRLE9BQVIsRUFBaUIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDN0JDLFlBQVFDLEdBQVIsQ0FBWSxjQUFaO0FBQ0EscUJBQU9DLEdBQVAsQ0FBV0MsT0FBWCxHQUFxQkMsSUFBckIsQ0FBMEIsVUFBQ0MsTUFBRCxFQUFZO0FBQ3BDTixVQUFJTyxJQUFKLENBQVMsRUFBRUQsY0FBRixFQUFUO0FBQ0QsS0FGRDtBQUdELEdBTEQ7O0FBT0Q7OztBQUdDVCxNQUFJQyxHQUFKLENBQVEsR0FBUixFQUFhLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3pCLFFBQU1NLFNBQVMsaUJBQU9SLEdBQVAsQ0FBVyxLQUFYLENBQWY7QUFDQUUsUUFBSU8sSUFBSixDQUFTLEVBQUVELGNBQUYsRUFBVDtBQUNELEdBSEQ7QUFJQSxTQUFPVCxHQUFQO0FBQ0QsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2NvbnRyb2xsZXJzL2FwaSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlnJ1xyXG5pbXBvcnQgc2luZ2xlIGZyb20gJy4uLy4uL21vZGVscy9zaW5nbGUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgY29uc3QgYXBpID0gUm91dGVyKClcclxuXHJcblx0LyoqXHJcbiAgICogUmV0cmlldmVzIGFsbCBhcHBzXHJcbiAgICogL2FwcHNcclxuXHQgKi9cclxuICBhcGkuZ2V0KCcvYXBwcycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2dldCBhbGwgYXBwcycpXHJcbiAgICBzaW5nbGUuQXBwLmxpc3RBbGwoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcmVzLmpzb24oeyByZXN1bHQgfSlcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcblx0LyoqXHJcbiAgICogUmV0cmVpdmVzIGluZGV4IGluZm8gb2YgYXBpXHJcblx0ICovXHJcbiAgYXBpLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gY29uZmlnLmdldCgnYXBpJylcclxuICAgIHJlcy5qc29uKHsgcmVzdWx0IH0pXHJcbiAgfSlcclxuICByZXR1cm4gYXBpXHJcbn1cclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "console",
        "log",
        "App",
        "listAll",
        "then",
        "result",
        "json"
      ],
      "mappings": ";;;;;;AAAA;;AACA;;;;AACA;;;;;;kBAEe,YAAM;AACnB,MAAMA,MAAM,sBAAZ;;AAED;;;;AAICA,MAAIC,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7BC,YAAQC,GAAR,CAAY,cAAZ;AACA,qBAAOC,GAAP,CAAWC,OAAX,GAAqBC,IAArB,CAA0B,UAACC,MAAD,EAAY;AACpCN,UAAIO,IAAJ,CAAS,EAAED,cAAF,EAAT;AACD,KAFD;AAGD,GALD;;AAOD;;;AAGCT,MAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzB,QAAMM,SAAS,iBAAOR,GAAP,CAAW,KAAX,CAAf;AACAE,QAAIO,IAAJ,CAAS,EAAED,cAAF,EAAT;AACD,GAHD;AAIA,SAAOT,GAAP;AACD,C",
      "file": "index.js",
      "sourceRoot": "/home/core/controllers/api",
      "sourcesContent": [
        "import { Router } from 'express'\r\nimport config from '../../config'\r\nimport single from '../../models/single'\r\n\r\nexport default () => {\r\n  const api = Router()\r\n\r\n\t/**\r\n   * Retrieves all apps\r\n   * /apps\r\n\t */\r\n  api.get('/apps', (req, res) => {\r\n    console.log('get all apps')\r\n    single.App.listAll().then((result) => {\r\n      res.json({ result })\r\n    })\r\n  })\r\n\r\n\t/**\r\n   * Retreives index info of api\r\n\t */\r\n  api.get('/', (req, res) => {\r\n    const result = config.get('api')\r\n    res.json({ result })\r\n  })\r\n  return api\r\n}\r\n"
      ]
    },
    "mtime": 1489496163513
  },
  "{\"filename\":\"/home/core/models/single/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models/single\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./App",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "App"
              }
            ]
          },
          {
            "source": "./IncomingAction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "IncomingAction"
              }
            ]
          },
          {
            "source": "./OutgoingAction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "OutgoingAction"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/single/index.js",
      "filenameRelative": "/home/core/models/single/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/models/single",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models/single",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _App = require('./App');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _IncomingAction = require('./IncomingAction');\n\nvar _IncomingAction2 = _interopRequireDefault(_IncomingAction);\n\nvar _OutgoingAction = require('./OutgoingAction');\n\nvar _OutgoingAction2 = _interopRequireDefault(_OutgoingAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  App: _App2.default,\n  IncomingAction: _IncomingAction2.default,\n  OutgoingAction: _OutgoingAction2.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkFwcCIsIkluY29taW5nQWN0aW9uIiwiT3V0Z29pbmdBY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O2tCQUVlO0FBQ2JBLG9CQURhO0FBRWJDLDBDQUZhO0FBR2JDO0FBSGEsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL21vZGVscy9zaW5nbGUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXBwIGZyb20gJy4vQXBwJ1xuaW1wb3J0IEluY29taW5nQWN0aW9uIGZyb20gJy4vSW5jb21pbmdBY3Rpb24nXG5pbXBvcnQgT3V0Z29pbmdBY3Rpb24gZnJvbSAnLi9PdXRnb2luZ0FjdGlvbidcblxuZXhwb3J0IGRlZmF1bHQge1xuICBBcHAsXG4gIEluY29taW5nQWN0aW9uLFxuICBPdXRnb2luZ0FjdGlvbixcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "App",
        "IncomingAction",
        "OutgoingAction"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbA,oBADa;AAEbC,0CAFa;AAGbC;AAHa,C",
      "file": "index.js",
      "sourceRoot": "/home/core/models/single",
      "sourcesContent": [
        "import App from './App'\nimport IncomingAction from './IncomingAction'\nimport OutgoingAction from './OutgoingAction'\n\nexport default {\n  App,\n  IncomingAction,\n  OutgoingAction,\n}\n"
      ]
    },
    "mtime": 1489224806870
  },
  "{\"filename\":\"/home/core/models/single/App.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models/single\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./base",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "base"
              }
            ]
          },
          {
            "source": "./IncomingAction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "IncomingAction"
              }
            ]
          },
          {
            "source": "./OutgoingAction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "OutgoingAction"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/single/App.js",
      "filenameRelative": "/home/core/models/single/App.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "App.js",
      "sourceFileName": "App.js",
      "sourceRoot": "/home/core/models/single",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models/single",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "App"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _IncomingAction = require('./IncomingAction');\n\nvar _IncomingAction2 = _interopRequireDefault(_IncomingAction);\n\nvar _OutgoingAction = require('./OutgoingAction');\n\nvar _OutgoingAction2 = _interopRequireDefault(_OutgoingAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar App = _base2.default.extend({\n  tableName: 'apps',\n  hasTimestamps: true\n}, {\n  registerApp: function registerApp(_ref) {\n    var _this = this;\n\n    var app = _ref.app,\n        incomingActions = _ref.incomingActions,\n        outgoingActions = _ref.outgoingActions;\n    return _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var savedApp;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.create(app, null);\n\n            case 2:\n              savedApp = _context.sent;\n\n              _IncomingAction2.default.registerIncomingActions({ incomingActions: incomingActions, apiId: savedApp.id });\n              _OutgoingAction2.default.registerOutgoingActions({ outgoingActions: outgoingActions, apiId: savedApp.id });\n              return _context.abrupt('return', savedApp);\n\n            case 6:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }))();\n  },\n  setAppActive: function setAppActive(appId) {\n    var _this2 = this;\n\n    return _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var foundApp;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this2.findOne({ id: appId });\n\n            case 2:\n              foundApp = _context2.sent;\n\n              foundApp.attributes.active = true;\n              return _context2.abrupt('return', _this2.update(foundApp.attributes));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this2);\n    }))();\n  },\n  setAppInactive: function setAppInactive(appId) {\n    var _this3 = this;\n\n    return _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var foundApp;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this3.findOne({ id: appId });\n\n            case 2:\n              foundApp = _context3.sent;\n\n              foundApp.attributes.ative = false;\n              return _context3.abrupt('return', _this3.update(foundApp.attributes));\n\n            case 5:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, _this3);\n    }))();\n  },\n  listAll: function listAll() {\n    var _this4 = this;\n\n    return _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt('return', _this4.collection().fetch());\n\n            case 1:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this4);\n    }))();\n  }\n});\n\nexports.default = App;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcC5qcyJdLCJuYW1lcyI6WyJBcHAiLCJleHRlbmQiLCJ0YWJsZU5hbWUiLCJoYXNUaW1lc3RhbXBzIiwicmVnaXN0ZXJBcHAiLCJhcHAiLCJpbmNvbWluZ0FjdGlvbnMiLCJvdXRnb2luZ0FjdGlvbnMiLCJjcmVhdGUiLCJzYXZlZEFwcCIsInJlZ2lzdGVySW5jb21pbmdBY3Rpb25zIiwiYXBpSWQiLCJpZCIsInJlZ2lzdGVyT3V0Z29pbmdBY3Rpb25zIiwic2V0QXBwQWN0aXZlIiwiYXBwSWQiLCJmaW5kT25lIiwiZm91bmRBcHAiLCJhdHRyaWJ1dGVzIiwiYWN0aXZlIiwidXBkYXRlIiwic2V0QXBwSW5hY3RpdmUiLCJhdGl2ZSIsImxpc3RBbGwiLCJjb2xsZWN0aW9uIiwiZmV0Y2giXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxNQUFNLGVBQUtDLE1BQUwsQ0FBWTtBQUN0QkMsYUFBVyxNQURXO0FBRXRCQyxpQkFBZTtBQUZPLENBQVosRUFHVDtBQUNLQyxhQURMLDZCQUM0RDtBQUFBOztBQUFBLFFBQXpDQyxHQUF5QyxRQUF6Q0EsR0FBeUM7QUFBQSxRQUFwQ0MsZUFBb0MsUUFBcENBLGVBQW9DO0FBQUEsUUFBbkJDLGVBQW1CLFFBQW5CQSxlQUFtQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBQ3BDLE1BQUtDLE1BQUwsQ0FBWUgsR0FBWixFQUFpQixJQUFqQixDQURvQzs7QUFBQTtBQUNyREksc0JBRHFEOztBQUUzRCx1Q0FBZUMsdUJBQWYsQ0FBdUMsRUFBRUosZ0NBQUYsRUFBbUJLLE9BQU9GLFNBQVNHLEVBQW5DLEVBQXZDO0FBQ0EsdUNBQWVDLHVCQUFmLENBQXVDLEVBQUVOLGdDQUFGLEVBQW1CSSxPQUFPRixTQUFTRyxFQUFuQyxFQUF2QztBQUgyRCwrQ0FJcERILFFBSm9EOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSzVELEdBTkE7QUFPS0ssY0FQTCx3QkFPa0JDLEtBUGxCLEVBT3lCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFDRCxPQUFLQyxPQUFMLENBQWEsRUFBRUosSUFBSUcsS0FBTixFQUFiLENBREM7O0FBQUE7QUFDbEJFLHNCQURrQjs7QUFFeEJBLHVCQUFTQyxVQUFULENBQW9CQyxNQUFwQixHQUE2QixJQUE3QjtBQUZ3QixnREFHakIsT0FBS0MsTUFBTCxDQUFZSCxTQUFTQyxVQUFyQixDQUhpQjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUl6QixHQVhBO0FBWUtHLGdCQVpMLDBCQVlvQk4sS0FacEIsRUFZMkI7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQUNILE9BQUtDLE9BQUwsQ0FBYSxFQUFFSixJQUFJRyxLQUFOLEVBQWIsQ0FERzs7QUFBQTtBQUNwQkUsc0JBRG9COztBQUUxQkEsdUJBQVNDLFVBQVQsQ0FBb0JJLEtBQXBCLEdBQTRCLEtBQTVCO0FBRjBCLGdEQUduQixPQUFLRixNQUFMLENBQVlILFNBQVNDLFVBQXJCLENBSG1COztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSTNCLEdBaEJBO0FBaUJLSyxTQWpCTCxxQkFpQmU7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0RBQ1AsT0FBS0MsVUFBTCxHQUFrQkMsS0FBbEIsRUFETzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVmO0FBbkJBLENBSFMsQ0FBWjs7a0JBeUJlekIsRyIsImZpbGUiOiJBcHAuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9tb2RlbHMvc2luZ2xlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJhc2UgZnJvbSAnLi9iYXNlJ1xuaW1wb3J0IEluY29taW5nQWN0aW9uIGZyb20gJy4vSW5jb21pbmdBY3Rpb24nXG5pbXBvcnQgT3V0Z29pbmdBY3Rpb24gZnJvbSAnLi9PdXRnb2luZ0FjdGlvbidcblxuY29uc3QgQXBwID0gYmFzZS5leHRlbmQoe1xuICB0YWJsZU5hbWU6ICdhcHBzJyxcbiAgaGFzVGltZXN0YW1wczogdHJ1ZSxcbn0sIHtcbiAgYXN5bmMgcmVnaXN0ZXJBcHAoeyBhcHAsIGluY29taW5nQWN0aW9ucywgb3V0Z29pbmdBY3Rpb25zIH0pIHtcbiAgICBjb25zdCBzYXZlZEFwcCA9IGF3YWl0IHRoaXMuY3JlYXRlKGFwcCwgbnVsbClcbiAgICBJbmNvbWluZ0FjdGlvbi5yZWdpc3RlckluY29taW5nQWN0aW9ucyh7IGluY29taW5nQWN0aW9ucywgYXBpSWQ6IHNhdmVkQXBwLmlkIH0pXG4gICAgT3V0Z29pbmdBY3Rpb24ucmVnaXN0ZXJPdXRnb2luZ0FjdGlvbnMoeyBvdXRnb2luZ0FjdGlvbnMsIGFwaUlkOiBzYXZlZEFwcC5pZCB9KVxuICAgIHJldHVybiBzYXZlZEFwcFxuICB9LFxuICBhc3luYyBzZXRBcHBBY3RpdmUoYXBwSWQpIHtcbiAgICBjb25zdCBmb3VuZEFwcCA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IGlkOiBhcHBJZCB9KVxuICAgIGZvdW5kQXBwLmF0dHJpYnV0ZXMuYWN0aXZlID0gdHJ1ZVxuICAgIHJldHVybiB0aGlzLnVwZGF0ZShmb3VuZEFwcC5hdHRyaWJ1dGVzKVxuICB9LFxuICBhc3luYyBzZXRBcHBJbmFjdGl2ZShhcHBJZCkge1xuICAgIGNvbnN0IGZvdW5kQXBwID0gYXdhaXQgdGhpcy5maW5kT25lKHsgaWQ6IGFwcElkIH0pXG4gICAgZm91bmRBcHAuYXR0cmlidXRlcy5hdGl2ZSA9IGZhbHNlXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKGZvdW5kQXBwLmF0dHJpYnV0ZXMpXG4gIH0sXG4gIGFzeW5jIGxpc3RBbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbigpLmZldGNoKClcbiAgfSxcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "App.js"
      ],
      "names": [
        "App",
        "extend",
        "tableName",
        "hasTimestamps",
        "registerApp",
        "app",
        "incomingActions",
        "outgoingActions",
        "create",
        "savedApp",
        "registerIncomingActions",
        "apiId",
        "id",
        "registerOutgoingActions",
        "setAppActive",
        "appId",
        "findOne",
        "foundApp",
        "attributes",
        "active",
        "update",
        "setAppInactive",
        "ative",
        "listAll",
        "collection",
        "fetch"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMA,MAAM,eAAKC,MAAL,CAAY;AACtBC,aAAW,MADW;AAEtBC,iBAAe;AAFO,CAAZ,EAGT;AACKC,aADL,6BAC4D;AAAA;;AAAA,QAAzCC,GAAyC,QAAzCA,GAAyC;AAAA,QAApCC,eAAoC,QAApCA,eAAoC;AAAA,QAAnBC,eAAmB,QAAnBA,eAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACpC,MAAKC,MAAL,CAAYH,GAAZ,EAAiB,IAAjB,CADoC;;AAAA;AACrDI,sBADqD;;AAE3D,uCAAeC,uBAAf,CAAuC,EAAEJ,gCAAF,EAAmBK,OAAOF,SAASG,EAAnC,EAAvC;AACA,uCAAeC,uBAAf,CAAuC,EAAEN,gCAAF,EAAmBI,OAAOF,SAASG,EAAnC,EAAvC;AAH2D,+CAIpDH,QAJoD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK5D,GANA;AAOKK,cAPL,wBAOkBC,KAPlB,EAOyB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACD,OAAKC,OAAL,CAAa,EAAEJ,IAAIG,KAAN,EAAb,CADC;;AAAA;AAClBE,sBADkB;;AAExBA,uBAASC,UAAT,CAAoBC,MAApB,GAA6B,IAA7B;AAFwB,gDAGjB,OAAKC,MAAL,CAAYH,SAASC,UAArB,CAHiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIzB,GAXA;AAYKG,gBAZL,0BAYoBN,KAZpB,EAY2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACH,OAAKC,OAAL,CAAa,EAAEJ,IAAIG,KAAN,EAAb,CADG;;AAAA;AACpBE,sBADoB;;AAE1BA,uBAASC,UAAT,CAAoBI,KAApB,GAA4B,KAA5B;AAF0B,gDAGnB,OAAKF,MAAL,CAAYH,SAASC,UAArB,CAHmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI3B,GAhBA;AAiBKK,SAjBL,qBAiBe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACP,OAAKC,UAAL,GAAkBC,KAAlB,EADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf;AAnBA,CAHS,CAAZ;;kBAyBezB,G",
      "file": "App.js",
      "sourceRoot": "/home/core/models/single",
      "sourcesContent": [
        "import base from './base'\nimport IncomingAction from './IncomingAction'\nimport OutgoingAction from './OutgoingAction'\n\nconst App = base.extend({\n  tableName: 'apps',\n  hasTimestamps: true,\n}, {\n  async registerApp({ app, incomingActions, outgoingActions }) {\n    const savedApp = await this.create(app, null)\n    IncomingAction.registerIncomingActions({ incomingActions, apiId: savedApp.id })\n    OutgoingAction.registerOutgoingActions({ outgoingActions, apiId: savedApp.id })\n    return savedApp\n  },\n  async setAppActive(appId) {\n    const foundApp = await this.findOne({ id: appId })\n    foundApp.attributes.active = true\n    return this.update(foundApp.attributes)\n  },\n  async setAppInactive(appId) {\n    const foundApp = await this.findOne({ id: appId })\n    foundApp.attributes.ative = false\n    return this.update(foundApp.attributes)\n  },\n  async listAll() {\n    return this.collection().fetch()\n  },\n})\n\nexport default App\n"
      ]
    },
    "mtime": 1489225606402
  },
  "{\"filename\":\"/home/core/models/single/base/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models/single/base\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../../../bookshelf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bookshelf"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/single/base/index.js",
      "filenameRelative": "/home/core/models/single/base/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/models/single/base",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models/single/base",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bookshelf = require('../../../bookshelf');\n\nvar _bookshelf2 = _interopRequireDefault(_bookshelf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar base = _bookshelf2.default.Model.extend({\n  hasTimestamps: ['created_at', 'updated_at']\n}, {\n  findAll: function findAll(filter, options) {\n    return this.forge().where(filter).fetchAll(options);\n  },\n  findOne: function findOne(query, options) {\n    return this.forge(query).fetch(options);\n  },\n  create: function create(data, options) {\n    return this.forge(data).save(null, options);\n  },\n  update: function update(data) {\n    console.log('updated received payload ', data);\n    return this.forge(data).save(null, { method: 'update' });\n  }\n});\n\nexports.default = base;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJhc2UiLCJNb2RlbCIsImV4dGVuZCIsImhhc1RpbWVzdGFtcHMiLCJmaW5kQWxsIiwiZmlsdGVyIiwib3B0aW9ucyIsImZvcmdlIiwid2hlcmUiLCJmZXRjaEFsbCIsImZpbmRPbmUiLCJxdWVyeSIsImZldGNoIiwiY3JlYXRlIiwiZGF0YSIsInNhdmUiLCJ1cGRhdGUiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsT0FBTyxvQkFBVUMsS0FBVixDQUFnQkMsTUFBaEIsQ0FBdUI7QUFDbENDLGlCQUFlLENBQUMsWUFBRCxFQUFlLFlBQWY7QUFEbUIsQ0FBdkIsRUFFVjtBQUNEQyxTQURDLG1CQUNPQyxNQURQLEVBQ2VDLE9BRGYsRUFDd0I7QUFDdkIsV0FBTyxLQUFLQyxLQUFMLEdBQWFDLEtBQWIsQ0FBbUJILE1BQW5CLEVBQTJCSSxRQUEzQixDQUFvQ0gsT0FBcEMsQ0FBUDtBQUNELEdBSEE7QUFLREksU0FMQyxtQkFLT0MsS0FMUCxFQUtjTCxPQUxkLEVBS3VCO0FBQ3RCLFdBQU8sS0FBS0MsS0FBTCxDQUFXSSxLQUFYLEVBQWtCQyxLQUFsQixDQUF3Qk4sT0FBeEIsQ0FBUDtBQUNELEdBUEE7QUFTRE8sUUFUQyxrQkFTTUMsSUFUTixFQVNZUixPQVRaLEVBU3FCO0FBQ3BCLFdBQU8sS0FBS0MsS0FBTCxDQUFXTyxJQUFYLEVBQWlCQyxJQUFqQixDQUFzQixJQUF0QixFQUE0QlQsT0FBNUIsQ0FBUDtBQUNELEdBWEE7QUFhRFUsUUFiQyxrQkFhTUYsSUFiTixFQWFZO0FBQ1hHLFlBQVFDLEdBQVIsQ0FBWSwyQkFBWixFQUF5Q0osSUFBekM7QUFDQSxXQUFPLEtBQUtQLEtBQUwsQ0FBV08sSUFBWCxFQUFpQkMsSUFBakIsQ0FBc0IsSUFBdEIsRUFBNEIsRUFBRUksUUFBUSxRQUFWLEVBQTVCLENBQVA7QUFDRDtBQWhCQSxDQUZVLENBQWI7O2tCQXFCZW5CLEkiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9tb2RlbHMvc2luZ2xlL2Jhc2UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYm9va3NoZWxmIGZyb20gJy4uLy4uLy4uL2Jvb2tzaGVsZidcblxuY29uc3QgYmFzZSA9IGJvb2tzaGVsZi5Nb2RlbC5leHRlbmQoe1xuICBoYXNUaW1lc3RhbXBzOiBbJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCddLFxufSwge1xuICBmaW5kQWxsKGZpbHRlciwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZvcmdlKCkud2hlcmUoZmlsdGVyKS5mZXRjaEFsbChvcHRpb25zKVxuICB9LFxuXG4gIGZpbmRPbmUocXVlcnksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JnZShxdWVyeSkuZmV0Y2gob3B0aW9ucylcbiAgfSxcblxuICBjcmVhdGUoZGF0YSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZvcmdlKGRhdGEpLnNhdmUobnVsbCwgb3B0aW9ucylcbiAgfSxcblxuICB1cGRhdGUoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKCd1cGRhdGVkIHJlY2VpdmVkIHBheWxvYWQgJywgZGF0YSlcbiAgICByZXR1cm4gdGhpcy5mb3JnZShkYXRhKS5zYXZlKG51bGwsIHsgbWV0aG9kOiAndXBkYXRlJyB9KVxuICB9LFxufSlcblxuZXhwb3J0IGRlZmF1bHQgYmFzZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "base",
        "Model",
        "extend",
        "hasTimestamps",
        "findAll",
        "filter",
        "options",
        "forge",
        "where",
        "fetchAll",
        "findOne",
        "query",
        "fetch",
        "create",
        "data",
        "save",
        "update",
        "console",
        "log",
        "method"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AAEA,IAAMA,OAAO,oBAAUC,KAAV,CAAgBC,MAAhB,CAAuB;AAClCC,iBAAe,CAAC,YAAD,EAAe,YAAf;AADmB,CAAvB,EAEV;AACDC,SADC,mBACOC,MADP,EACeC,OADf,EACwB;AACvB,WAAO,KAAKC,KAAL,GAAaC,KAAb,CAAmBH,MAAnB,EAA2BI,QAA3B,CAAoCH,OAApC,CAAP;AACD,GAHA;AAKDI,SALC,mBAKOC,KALP,EAKcL,OALd,EAKuB;AACtB,WAAO,KAAKC,KAAL,CAAWI,KAAX,EAAkBC,KAAlB,CAAwBN,OAAxB,CAAP;AACD,GAPA;AASDO,QATC,kBASMC,IATN,EASYR,OATZ,EASqB;AACpB,WAAO,KAAKC,KAAL,CAAWO,IAAX,EAAiBC,IAAjB,CAAsB,IAAtB,EAA4BT,OAA5B,CAAP;AACD,GAXA;AAaDU,QAbC,kBAaMF,IAbN,EAaY;AACXG,YAAQC,GAAR,CAAY,2BAAZ,EAAyCJ,IAAzC;AACA,WAAO,KAAKP,KAAL,CAAWO,IAAX,EAAiBC,IAAjB,CAAsB,IAAtB,EAA4B,EAAEI,QAAQ,QAAV,EAA5B,CAAP;AACD;AAhBA,CAFU,CAAb;;kBAqBenB,I",
      "file": "index.js",
      "sourceRoot": "/home/core/models/single/base",
      "sourcesContent": [
        "import bookshelf from '../../../bookshelf'\n\nconst base = bookshelf.Model.extend({\n  hasTimestamps: ['created_at', 'updated_at'],\n}, {\n  findAll(filter, options) {\n    return this.forge().where(filter).fetchAll(options)\n  },\n\n  findOne(query, options) {\n    return this.forge(query).fetch(options)\n  },\n\n  create(data, options) {\n    return this.forge(data).save(null, options)\n  },\n\n  update(data) {\n    console.log('updated received payload ', data)\n    return this.forge(data).save(null, { method: 'update' })\n  },\n})\n\nexport default base\n"
      ]
    },
    "mtime": 1487985543593
  },
  "{\"filename\":\"/home/core/bookshelf/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/bookshelf\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./db/connection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "db"
              }
            ]
          },
          {
            "source": "./schema",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "schema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/bookshelf/index.js",
      "filenameRelative": "/home/core/bookshelf/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/bookshelf",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/bookshelf",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _connection = require('./db/connection');\n\nvar _connection2 = _interopRequireDefault(_connection);\n\nvar _schema = require('./schema');\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar connection = (0, _connection2.default)();\n_schema2.default.createTables(connection);\nconsole.log('outside now!');\n\nexports.default = connection.bookshelf;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbm5lY3Rpb24iLCJjcmVhdGVUYWJsZXMiLCJjb25zb2xlIiwibG9nIiwiYm9va3NoZWxmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLDJCQUFuQjtBQUNBLGlCQUFPQyxZQUFQLENBQW9CRCxVQUFwQjtBQUNBRSxRQUFRQyxHQUFSLENBQVksY0FBWjs7a0JBRWVILFdBQVdJLFMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9ib29rc2hlbGYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi9kYi9jb25uZWN0aW9uJ1xuaW1wb3J0IHNjaGVtYSBmcm9tICcuL3NjaGVtYSdcblxuY29uc3QgY29ubmVjdGlvbiA9IGRiKClcbnNjaGVtYS5jcmVhdGVUYWJsZXMoY29ubmVjdGlvbilcbmNvbnNvbGUubG9nKCdvdXRzaWRlIG5vdyEnKVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0aW9uLmJvb2tzaGVsZlxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "connection",
        "createTables",
        "console",
        "log",
        "bookshelf"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,2BAAnB;AACA,iBAAOC,YAAP,CAAoBD,UAApB;AACAE,QAAQC,GAAR,CAAY,cAAZ;;kBAEeH,WAAWI,S",
      "file": "index.js",
      "sourceRoot": "/home/core/bookshelf",
      "sourcesContent": [
        "import db from './db/connection'\nimport schema from './schema'\n\nconst connection = db()\nschema.createTables(connection)\nconsole.log('outside now!')\n\nexport default connection.bookshelf\n"
      ]
    },
    "mtime": 1487766351697
  },
  "{\"filename\":\"/home/core/bookshelf/db/connection.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/bookshelf/db\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "knex",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Knex"
              }
            ]
          },
          {
            "source": "bookshelf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Bookshelf"
              }
            ]
          },
          {
            "source": "../../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../../helpers/root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "root"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/bookshelf/db/connection.js",
      "filenameRelative": "/home/core/bookshelf/db/connection.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "connection.js",
      "sourceFileName": "connection.js",
      "sourceRoot": "/home/core/bookshelf/db",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/bookshelf/db",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "connection"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _knex = require('knex');\n\nvar _knex2 = _interopRequireDefault(_knex);\n\nvar _bookshelf = require('bookshelf');\n\nvar _bookshelf2 = _interopRequireDefault(_bookshelf);\n\nvar _config = require('../../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _root = require('../../helpers/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar init = function init() {\n  if (typeof _root2.default.bookshelf === 'undefined') {\n    _root2.default.knex = (0, _knex2.default)(_config2.default.get('database'));\n    _root2.default.bookshelf = (0, _bookshelf2.default)(_root2.default.knex);\n  }\n  return {\n    knex: _root2.default.knex,\n    bookshelf: _root2.default.bookshelf\n  };\n};\n\nexports.default = init;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbm5lY3Rpb24uanMiXSwibmFtZXMiOlsiaW5pdCIsImJvb2tzaGVsZiIsImtuZXgiLCJnZXQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFHQSxJQUFNQSxPQUFPLFNBQVBBLElBQU8sR0FBTTtBQUNqQixNQUFJLE9BQU8sZUFBS0MsU0FBWixLQUEwQixXQUE5QixFQUEyQztBQUN6QyxtQkFBS0MsSUFBTCxHQUFZLG9CQUFLLGlCQUFPQyxHQUFQLENBQVcsVUFBWCxDQUFMLENBQVo7QUFDQSxtQkFBS0YsU0FBTCxHQUFpQix5QkFBVSxlQUFLQyxJQUFmLENBQWpCO0FBQ0Q7QUFDRCxTQUFPO0FBQ0xBLFVBQU0sZUFBS0EsSUFETjtBQUVMRCxlQUFXLGVBQUtBO0FBRlgsR0FBUDtBQUlELENBVEQ7O2tCQVdlRCxJIiwiZmlsZSI6ImNvbm5lY3Rpb24uanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9ib29rc2hlbGYvZGIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS25leCBmcm9tICdrbmV4J1xyXG5pbXBvcnQgQm9va3NoZWxmIGZyb20gJ2Jvb2tzaGVsZidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXHJcbmltcG9ydCByb290IGZyb20gJy4uLy4uL2hlbHBlcnMvcm9vdCdcclxuXHJcblxyXG5jb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gIGlmICh0eXBlb2Ygcm9vdC5ib29rc2hlbGYgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICByb290LmtuZXggPSBLbmV4KGNvbmZpZy5nZXQoJ2RhdGFiYXNlJykpXHJcbiAgICByb290LmJvb2tzaGVsZiA9IEJvb2tzaGVsZihyb290LmtuZXgpXHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBrbmV4OiByb290LmtuZXgsXHJcbiAgICBib29rc2hlbGY6IHJvb3QuYm9va3NoZWxmLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdFxyXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "connection.js"
      ],
      "names": [
        "init",
        "bookshelf",
        "knex",
        "get"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAMA,OAAO,SAAPA,IAAO,GAAM;AACjB,MAAI,OAAO,eAAKC,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,mBAAKC,IAAL,GAAY,oBAAK,iBAAOC,GAAP,CAAW,UAAX,CAAL,CAAZ;AACA,mBAAKF,SAAL,GAAiB,yBAAU,eAAKC,IAAf,CAAjB;AACD;AACD,SAAO;AACLA,UAAM,eAAKA,IADN;AAELD,eAAW,eAAKA;AAFX,GAAP;AAID,CATD;;kBAWeD,I",
      "file": "connection.js",
      "sourceRoot": "/home/core/bookshelf/db",
      "sourcesContent": [
        "import Knex from 'knex'\r\nimport Bookshelf from 'bookshelf'\r\nimport config from '../../config'\r\nimport root from '../../helpers/root'\r\n\r\n\r\nconst init = () => {\r\n  if (typeof root.bookshelf === 'undefined') {\r\n    root.knex = Knex(config.get('database'))\r\n    root.bookshelf = Bookshelf(root.knex)\r\n  }\r\n  return {\r\n    knex: root.knex,\r\n    bookshelf: root.bookshelf,\r\n  }\r\n}\r\n\r\nexport default init\r\n"
      ]
    },
    "mtime": 1489496163498
  },
  "{\"filename\":\"/home/core/helpers/root.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/helpers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/helpers/root.js",
      "filenameRelative": "/home/core/helpers/root.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "root.js",
      "sourceFileName": "root.js",
      "sourceRoot": "/home/core/helpers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/helpers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "root"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar root = global;\n\nexports.default = root;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QuanMiXSwibmFtZXMiOlsicm9vdCIsImdsb2JhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxPQUFPQyxNQUFiOztrQkFFZUQsSSIsImZpbGUiOiJyb290LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvb3QgPSBnbG9iYWxcblxuZXhwb3J0IGRlZmF1bHQgcm9vdFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "root.js"
      ],
      "names": [
        "root",
        "global"
      ],
      "mappings": ";;;;;AAAA,IAAMA,OAAOC,MAAb;;kBAEeD,I",
      "file": "root.js",
      "sourceRoot": "/home/core/helpers",
      "sourcesContent": [
        "const root = global\n\nexport default root\n"
      ]
    },
    "mtime": 1488368084024
  },
  "{\"filename\":\"/home/core/bookshelf/schema/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/bookshelf/schema\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "q",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Q"
              }
            ]
          },
          {
            "source": "../db/connection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "connection"
              }
            ]
          },
          {
            "source": "../../helpers/root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "root"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/bookshelf/schema/index.js",
      "filenameRelative": "/home/core/bookshelf/schema/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/bookshelf/schema",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/bookshelf/schema",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _connection2 = require('../db/connection');\n\nvar _connection3 = _interopRequireDefault(_connection2);\n\nvar _root = require('../../helpers/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createTables() {\n  var _connection = (0, _connection3.default)(),\n      knex = _connection.knex;\n\n  // If schema is already built, do not build it again.\n\n\n  if (typeof _root2.default.schemaFinished !== 'undefined') {\n    return false;\n  }\n\n  // TODO: Implement migration\n  _q2.default.allSettled([knex.schema.dropTableIfExists('bips'), knex.schema.createTableIfNotExists('bips', function (table) {\n    table.increments();\n    table.string('condition');\n    table.boolean('active');\n    table.timestamps();\n    table.integer('incoming_actions_id').references('bips.id');\n    table.integer('outgoing_actions_id').references('bips.id');\n  }), knex.schema.dropTableIfExists('apps'), knex.schema.createTableIfNotExists('apps', function (table) {\n    table.increments();\n    table.string('name');\n    table.string('auth_type');\n    table.string('description', 128);\n    table.boolean('active');\n    table.timestamps();\n  }), knex.schema.dropTableIfExists('incoming_actions'), knex.schema.createTableIfNotExists('incoming_actions', function (table) {\n    table.increments();\n    table.string('type');\n    table.string('endpoint');\n    table.string('name');\n    table.timestamps();\n    table.integer('api_id').references('apis.id');\n  }), knex.schema.dropTableIfExists('outgoing_actions'), knex.schema.createTableIfNotExists('outgoing_actions', function (table) {\n    table.increments();\n    table.string('name');\n    table.timestamps();\n    table.integer('api_id').references('apis.id');\n  })]);\n  _root2.default.schemaFinished = true;\n  return true;\n}\n\nexports.default = {\n  createTables: createTables\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNyZWF0ZVRhYmxlcyIsImtuZXgiLCJzY2hlbWFGaW5pc2hlZCIsImFsbFNldHRsZWQiLCJzY2hlbWEiLCJkcm9wVGFibGVJZkV4aXN0cyIsImNyZWF0ZVRhYmxlSWZOb3RFeGlzdHMiLCJ0YWJsZSIsImluY3JlbWVudHMiLCJzdHJpbmciLCJib29sZWFuIiwidGltZXN0YW1wcyIsImludGVnZXIiLCJyZWZlcmVuY2VzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLFNBQVNBLFlBQVQsR0FBd0I7QUFBQSxvQkFDTCwyQkFESztBQUFBLE1BQ2RDLElBRGMsZUFDZEEsSUFEYzs7QUFHdEI7OztBQUNBLE1BQUksT0FBTyxlQUFLQyxjQUFaLEtBQStCLFdBQW5DLEVBQWdEO0FBQUUsV0FBTyxLQUFQO0FBQWM7O0FBRWhFO0FBQ0EsY0FBRUMsVUFBRixDQUFhLENBQ1hGLEtBQUtHLE1BQUwsQ0FBWUMsaUJBQVosQ0FBOEIsTUFBOUIsQ0FEVyxFQUVYSixLQUFLRyxNQUFMLENBQVlFLHNCQUFaLENBQW1DLE1BQW5DLEVBQTJDLFVBQUNDLEtBQUQsRUFBVztBQUNwREEsVUFBTUMsVUFBTjtBQUNBRCxVQUFNRSxNQUFOLENBQWEsV0FBYjtBQUNBRixVQUFNRyxPQUFOLENBQWMsUUFBZDtBQUNBSCxVQUFNSSxVQUFOO0FBQ0FKLFVBQU1LLE9BQU4sQ0FBYyxxQkFBZCxFQUFxQ0MsVUFBckMsQ0FBZ0QsU0FBaEQ7QUFDQU4sVUFBTUssT0FBTixDQUFjLHFCQUFkLEVBQXFDQyxVQUFyQyxDQUFnRCxTQUFoRDtBQUNELEdBUEQsQ0FGVyxFQVVYWixLQUFLRyxNQUFMLENBQVlDLGlCQUFaLENBQThCLE1BQTlCLENBVlcsRUFXWEosS0FBS0csTUFBTCxDQUFZRSxzQkFBWixDQUFtQyxNQUFuQyxFQUEyQyxVQUFDQyxLQUFELEVBQVc7QUFDcERBLFVBQU1DLFVBQU47QUFDQUQsVUFBTUUsTUFBTixDQUFhLE1BQWI7QUFDQUYsVUFBTUUsTUFBTixDQUFhLFdBQWI7QUFDQUYsVUFBTUUsTUFBTixDQUFhLGFBQWIsRUFBNEIsR0FBNUI7QUFDQUYsVUFBTUcsT0FBTixDQUFjLFFBQWQ7QUFDQUgsVUFBTUksVUFBTjtBQUNELEdBUEQsQ0FYVyxFQW1CWFYsS0FBS0csTUFBTCxDQUFZQyxpQkFBWixDQUE4QixrQkFBOUIsQ0FuQlcsRUFvQlhKLEtBQUtHLE1BQUwsQ0FBWUUsc0JBQVosQ0FBbUMsa0JBQW5DLEVBQXVELFVBQUNDLEtBQUQsRUFBVztBQUNoRUEsVUFBTUMsVUFBTjtBQUNBRCxVQUFNRSxNQUFOLENBQWEsTUFBYjtBQUNBRixVQUFNRSxNQUFOLENBQWEsVUFBYjtBQUNBRixVQUFNRSxNQUFOLENBQWEsTUFBYjtBQUNBRixVQUFNSSxVQUFOO0FBQ0FKLFVBQU1LLE9BQU4sQ0FBYyxRQUFkLEVBQXdCQyxVQUF4QixDQUFtQyxTQUFuQztBQUNELEdBUEQsQ0FwQlcsRUE0QlhaLEtBQUtHLE1BQUwsQ0FBWUMsaUJBQVosQ0FBOEIsa0JBQTlCLENBNUJXLEVBNkJYSixLQUFLRyxNQUFMLENBQVlFLHNCQUFaLENBQW1DLGtCQUFuQyxFQUF1RCxVQUFDQyxLQUFELEVBQVc7QUFDaEVBLFVBQU1DLFVBQU47QUFDQUQsVUFBTUUsTUFBTixDQUFhLE1BQWI7QUFDQUYsVUFBTUksVUFBTjtBQUNBSixVQUFNSyxPQUFOLENBQWMsUUFBZCxFQUF3QkMsVUFBeEIsQ0FBbUMsU0FBbkM7QUFDRCxHQUxELENBN0JXLENBQWI7QUFvQ0EsaUJBQUtYLGNBQUwsR0FBc0IsSUFBdEI7QUFDQSxTQUFPLElBQVA7QUFDRDs7a0JBRWM7QUFDYkY7QUFEYSxDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvYm9va3NoZWxmL3NjaGVtYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRIGZyb20gJ3EnXHJcbmltcG9ydCBjb25uZWN0aW9uIGZyb20gJy4uL2RiL2Nvbm5lY3Rpb24nXHJcbmltcG9ydCByb290IGZyb20gJy4uLy4uL2hlbHBlcnMvcm9vdCdcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlcygpIHtcclxuICBjb25zdCB7IGtuZXggfSA9IGNvbm5lY3Rpb24oKVxyXG5cclxuICAvLyBJZiBzY2hlbWEgaXMgYWxyZWFkeSBidWlsdCwgZG8gbm90IGJ1aWxkIGl0IGFnYWluLlxyXG4gIGlmICh0eXBlb2Ygcm9vdC5zY2hlbWFGaW5pc2hlZCAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGZhbHNlIH1cclxuXHJcbiAgLy8gVE9ETzogSW1wbGVtZW50IG1pZ3JhdGlvblxyXG4gIFEuYWxsU2V0dGxlZChbXHJcbiAgICBrbmV4LnNjaGVtYS5kcm9wVGFibGVJZkV4aXN0cygnYmlwcycpLFxyXG4gICAga25leC5zY2hlbWEuY3JlYXRlVGFibGVJZk5vdEV4aXN0cygnYmlwcycsICh0YWJsZSkgPT4ge1xyXG4gICAgICB0YWJsZS5pbmNyZW1lbnRzKClcclxuICAgICAgdGFibGUuc3RyaW5nKCdjb25kaXRpb24nKVxyXG4gICAgICB0YWJsZS5ib29sZWFuKCdhY3RpdmUnKVxyXG4gICAgICB0YWJsZS50aW1lc3RhbXBzKClcclxuICAgICAgdGFibGUuaW50ZWdlcignaW5jb21pbmdfYWN0aW9uc19pZCcpLnJlZmVyZW5jZXMoJ2JpcHMuaWQnKVxyXG4gICAgICB0YWJsZS5pbnRlZ2VyKCdvdXRnb2luZ19hY3Rpb25zX2lkJykucmVmZXJlbmNlcygnYmlwcy5pZCcpXHJcbiAgICB9KSxcclxuICAgIGtuZXguc2NoZW1hLmRyb3BUYWJsZUlmRXhpc3RzKCdhcHBzJyksXHJcbiAgICBrbmV4LnNjaGVtYS5jcmVhdGVUYWJsZUlmTm90RXhpc3RzKCdhcHBzJywgKHRhYmxlKSA9PiB7XHJcbiAgICAgIHRhYmxlLmluY3JlbWVudHMoKVxyXG4gICAgICB0YWJsZS5zdHJpbmcoJ25hbWUnKVxyXG4gICAgICB0YWJsZS5zdHJpbmcoJ2F1dGhfdHlwZScpXHJcbiAgICAgIHRhYmxlLnN0cmluZygnZGVzY3JpcHRpb24nLCAxMjgpXHJcbiAgICAgIHRhYmxlLmJvb2xlYW4oJ2FjdGl2ZScpXHJcbiAgICAgIHRhYmxlLnRpbWVzdGFtcHMoKVxyXG4gICAgfSksXHJcbiAgICBrbmV4LnNjaGVtYS5kcm9wVGFibGVJZkV4aXN0cygnaW5jb21pbmdfYWN0aW9ucycpLFxyXG4gICAga25leC5zY2hlbWEuY3JlYXRlVGFibGVJZk5vdEV4aXN0cygnaW5jb21pbmdfYWN0aW9ucycsICh0YWJsZSkgPT4ge1xyXG4gICAgICB0YWJsZS5pbmNyZW1lbnRzKClcclxuICAgICAgdGFibGUuc3RyaW5nKCd0eXBlJylcclxuICAgICAgdGFibGUuc3RyaW5nKCdlbmRwb2ludCcpXHJcbiAgICAgIHRhYmxlLnN0cmluZygnbmFtZScpXHJcbiAgICAgIHRhYmxlLnRpbWVzdGFtcHMoKVxyXG4gICAgICB0YWJsZS5pbnRlZ2VyKCdhcGlfaWQnKS5yZWZlcmVuY2VzKCdhcGlzLmlkJylcclxuICAgIH0pLFxyXG4gICAga25leC5zY2hlbWEuZHJvcFRhYmxlSWZFeGlzdHMoJ291dGdvaW5nX2FjdGlvbnMnKSxcclxuICAgIGtuZXguc2NoZW1hLmNyZWF0ZVRhYmxlSWZOb3RFeGlzdHMoJ291dGdvaW5nX2FjdGlvbnMnLCAodGFibGUpID0+IHtcclxuICAgICAgdGFibGUuaW5jcmVtZW50cygpXHJcbiAgICAgIHRhYmxlLnN0cmluZygnbmFtZScpXHJcbiAgICAgIHRhYmxlLnRpbWVzdGFtcHMoKVxyXG4gICAgICB0YWJsZS5pbnRlZ2VyKCdhcGlfaWQnKS5yZWZlcmVuY2VzKCdhcGlzLmlkJylcclxuICAgIH0pLFxyXG4gIF0pXHJcbiAgcm9vdC5zY2hlbWFGaW5pc2hlZCA9IHRydWVcclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY3JlYXRlVGFibGVzLFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "createTables",
        "knex",
        "schemaFinished",
        "allSettled",
        "schema",
        "dropTableIfExists",
        "createTableIfNotExists",
        "table",
        "increments",
        "string",
        "boolean",
        "timestamps",
        "integer",
        "references"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,YAAT,GAAwB;AAAA,oBACL,2BADK;AAAA,MACdC,IADc,eACdA,IADc;;AAGtB;;;AACA,MAAI,OAAO,eAAKC,cAAZ,KAA+B,WAAnC,EAAgD;AAAE,WAAO,KAAP;AAAc;;AAEhE;AACA,cAAEC,UAAF,CAAa,CACXF,KAAKG,MAAL,CAAYC,iBAAZ,CAA8B,MAA9B,CADW,EAEXJ,KAAKG,MAAL,CAAYE,sBAAZ,CAAmC,MAAnC,EAA2C,UAACC,KAAD,EAAW;AACpDA,UAAMC,UAAN;AACAD,UAAME,MAAN,CAAa,WAAb;AACAF,UAAMG,OAAN,CAAc,QAAd;AACAH,UAAMI,UAAN;AACAJ,UAAMK,OAAN,CAAc,qBAAd,EAAqCC,UAArC,CAAgD,SAAhD;AACAN,UAAMK,OAAN,CAAc,qBAAd,EAAqCC,UAArC,CAAgD,SAAhD;AACD,GAPD,CAFW,EAUXZ,KAAKG,MAAL,CAAYC,iBAAZ,CAA8B,MAA9B,CAVW,EAWXJ,KAAKG,MAAL,CAAYE,sBAAZ,CAAmC,MAAnC,EAA2C,UAACC,KAAD,EAAW;AACpDA,UAAMC,UAAN;AACAD,UAAME,MAAN,CAAa,MAAb;AACAF,UAAME,MAAN,CAAa,WAAb;AACAF,UAAME,MAAN,CAAa,aAAb,EAA4B,GAA5B;AACAF,UAAMG,OAAN,CAAc,QAAd;AACAH,UAAMI,UAAN;AACD,GAPD,CAXW,EAmBXV,KAAKG,MAAL,CAAYC,iBAAZ,CAA8B,kBAA9B,CAnBW,EAoBXJ,KAAKG,MAAL,CAAYE,sBAAZ,CAAmC,kBAAnC,EAAuD,UAACC,KAAD,EAAW;AAChEA,UAAMC,UAAN;AACAD,UAAME,MAAN,CAAa,MAAb;AACAF,UAAME,MAAN,CAAa,UAAb;AACAF,UAAME,MAAN,CAAa,MAAb;AACAF,UAAMI,UAAN;AACAJ,UAAMK,OAAN,CAAc,QAAd,EAAwBC,UAAxB,CAAmC,SAAnC;AACD,GAPD,CApBW,EA4BXZ,KAAKG,MAAL,CAAYC,iBAAZ,CAA8B,kBAA9B,CA5BW,EA6BXJ,KAAKG,MAAL,CAAYE,sBAAZ,CAAmC,kBAAnC,EAAuD,UAACC,KAAD,EAAW;AAChEA,UAAMC,UAAN;AACAD,UAAME,MAAN,CAAa,MAAb;AACAF,UAAMI,UAAN;AACAJ,UAAMK,OAAN,CAAc,QAAd,EAAwBC,UAAxB,CAAmC,SAAnC;AACD,GALD,CA7BW,CAAb;AAoCA,iBAAKX,cAAL,GAAsB,IAAtB;AACA,SAAO,IAAP;AACD;;kBAEc;AACbF;AADa,C",
      "file": "index.js",
      "sourceRoot": "/home/core/bookshelf/schema",
      "sourcesContent": [
        "import Q from 'q'\r\nimport connection from '../db/connection'\r\nimport root from '../../helpers/root'\r\n\r\nfunction createTables() {\r\n  const { knex } = connection()\r\n\r\n  // If schema is already built, do not build it again.\r\n  if (typeof root.schemaFinished !== 'undefined') { return false }\r\n\r\n  // TODO: Implement migration\r\n  Q.allSettled([\r\n    knex.schema.dropTableIfExists('bips'),\r\n    knex.schema.createTableIfNotExists('bips', (table) => {\r\n      table.increments()\r\n      table.string('condition')\r\n      table.boolean('active')\r\n      table.timestamps()\r\n      table.integer('incoming_actions_id').references('bips.id')\r\n      table.integer('outgoing_actions_id').references('bips.id')\r\n    }),\r\n    knex.schema.dropTableIfExists('apps'),\r\n    knex.schema.createTableIfNotExists('apps', (table) => {\r\n      table.increments()\r\n      table.string('name')\r\n      table.string('auth_type')\r\n      table.string('description', 128)\r\n      table.boolean('active')\r\n      table.timestamps()\r\n    }),\r\n    knex.schema.dropTableIfExists('incoming_actions'),\r\n    knex.schema.createTableIfNotExists('incoming_actions', (table) => {\r\n      table.increments()\r\n      table.string('type')\r\n      table.string('endpoint')\r\n      table.string('name')\r\n      table.timestamps()\r\n      table.integer('api_id').references('apis.id')\r\n    }),\r\n    knex.schema.dropTableIfExists('outgoing_actions'),\r\n    knex.schema.createTableIfNotExists('outgoing_actions', (table) => {\r\n      table.increments()\r\n      table.string('name')\r\n      table.timestamps()\r\n      table.integer('api_id').references('apis.id')\r\n    }),\r\n  ])\r\n  root.schemaFinished = true\r\n  return true\r\n}\r\n\r\nexport default {\r\n  createTables,\r\n}\r\n"
      ]
    },
    "mtime": 1489496163503
  },
  "{\"filename\":\"/home/core/models/single/IncomingAction.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models/single\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "q",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Q"
              }
            ]
          },
          {
            "source": "./base",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "base"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/single/IncomingAction.js",
      "filenameRelative": "/home/core/models/single/IncomingAction.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "IncomingAction.js",
      "sourceFileName": "IncomingAction.js",
      "sourceRoot": "/home/core/models/single",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models/single",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "IncomingAction"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar IncomingAction = _base2.default.extend({\n  tableName: 'incoming_actions',\n  hasTimestamps: true,\n  api: function api() {\n    return this.belongsTo('Apis');\n  }\n}, {\n  registerIncomingActions: function registerIncomingActions(_ref) {\n    var _this = this;\n\n    var incomingActions = _ref.incomingActions,\n        apiId = _ref.apiId;\n\n    var forgedIncActions = incomingActions.map(function (incomingAction) {\n      incomingAction.api_id = apiId;\n      return _this.create(incomingAction, null);\n    });\n    _q2.default.allSettled(forgedIncActions);\n  },\n  findByEndPoint: function findByEndPoint(endPoint, action) {\n    var endPointVariation = '/' + endPoint;\n    var actionVariation = '/' + action;\n    return this.findOne({ endPoint: endPointVariation, action: actionVariation });\n  }\n});\n\nexports.default = IncomingAction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluY29taW5nQWN0aW9uLmpzIl0sIm5hbWVzIjpbIkluY29taW5nQWN0aW9uIiwiZXh0ZW5kIiwidGFibGVOYW1lIiwiaGFzVGltZXN0YW1wcyIsImFwaSIsImJlbG9uZ3NUbyIsInJlZ2lzdGVySW5jb21pbmdBY3Rpb25zIiwiaW5jb21pbmdBY3Rpb25zIiwiYXBpSWQiLCJmb3JnZWRJbmNBY3Rpb25zIiwibWFwIiwiaW5jb21pbmdBY3Rpb24iLCJhcGlfaWQiLCJjcmVhdGUiLCJhbGxTZXR0bGVkIiwiZmluZEJ5RW5kUG9pbnQiLCJlbmRQb2ludCIsImFjdGlvbiIsImVuZFBvaW50VmFyaWF0aW9uIiwiYWN0aW9uVmFyaWF0aW9uIiwiZmluZE9uZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsaUJBQWlCLGVBQUtDLE1BQUwsQ0FBWTtBQUNqQ0MsYUFBVyxrQkFEc0I7QUFFakNDLGlCQUFlLElBRmtCO0FBR2pDQyxLQUhpQyxpQkFHM0I7QUFDSixXQUFPLEtBQUtDLFNBQUwsQ0FBZSxNQUFmLENBQVA7QUFDRDtBQUxnQyxDQUFaLEVBTXBCO0FBQ0RDLHlCQURDLHlDQUNtRDtBQUFBOztBQUFBLFFBQTFCQyxlQUEwQixRQUExQkEsZUFBMEI7QUFBQSxRQUFUQyxLQUFTLFFBQVRBLEtBQVM7O0FBQ2xELFFBQU1DLG1CQUFtQkYsZ0JBQWdCRyxHQUFoQixDQUFvQixVQUFDQyxjQUFELEVBQW9CO0FBQy9EQSxxQkFBZUMsTUFBZixHQUF3QkosS0FBeEI7QUFDQSxhQUFPLE1BQUtLLE1BQUwsQ0FBWUYsY0FBWixFQUE0QixJQUE1QixDQUFQO0FBQ0QsS0FId0IsQ0FBekI7QUFJQSxnQkFBRUcsVUFBRixDQUFhTCxnQkFBYjtBQUNELEdBUEE7QUFRRE0sZ0JBUkMsMEJBUWNDLFFBUmQsRUFRd0JDLE1BUnhCLEVBUWdDO0FBQy9CLFFBQU1DLDBCQUF3QkYsUUFBOUI7QUFDQSxRQUFNRyx3QkFBc0JGLE1BQTVCO0FBQ0EsV0FBTyxLQUFLRyxPQUFMLENBQWEsRUFBRUosVUFBVUUsaUJBQVosRUFBK0JELFFBQVFFLGVBQXZDLEVBQWIsQ0FBUDtBQUNEO0FBWkEsQ0FOb0IsQ0FBdkI7O2tCQXFCZW5CLGMiLCJmaWxlIjoiSW5jb21pbmdBY3Rpb24uanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9tb2RlbHMvc2luZ2xlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFEgZnJvbSAncSdcbmltcG9ydCBiYXNlIGZyb20gJy4vYmFzZSdcblxuY29uc3QgSW5jb21pbmdBY3Rpb24gPSBiYXNlLmV4dGVuZCh7XG4gIHRhYmxlTmFtZTogJ2luY29taW5nX2FjdGlvbnMnLFxuICBoYXNUaW1lc3RhbXBzOiB0cnVlLFxuICBhcGkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmVsb25nc1RvKCdBcGlzJylcbiAgfSxcbn0sIHtcbiAgcmVnaXN0ZXJJbmNvbWluZ0FjdGlvbnMoeyBpbmNvbWluZ0FjdGlvbnMsIGFwaUlkIH0pIHtcbiAgICBjb25zdCBmb3JnZWRJbmNBY3Rpb25zID0gaW5jb21pbmdBY3Rpb25zLm1hcCgoaW5jb21pbmdBY3Rpb24pID0+IHtcbiAgICAgIGluY29taW5nQWN0aW9uLmFwaV9pZCA9IGFwaUlkXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGUoaW5jb21pbmdBY3Rpb24sIG51bGwpXG4gICAgfSlcbiAgICBRLmFsbFNldHRsZWQoZm9yZ2VkSW5jQWN0aW9ucylcbiAgfSxcbiAgZmluZEJ5RW5kUG9pbnQoZW5kUG9pbnQsIGFjdGlvbikge1xuICAgIGNvbnN0IGVuZFBvaW50VmFyaWF0aW9uID0gYC8ke2VuZFBvaW50fWBcbiAgICBjb25zdCBhY3Rpb25WYXJpYXRpb24gPSBgLyR7YWN0aW9ufWBcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgZW5kUG9pbnQ6IGVuZFBvaW50VmFyaWF0aW9uLCBhY3Rpb246IGFjdGlvblZhcmlhdGlvbiB9KVxuICB9LFxufSlcblxuZXhwb3J0IGRlZmF1bHQgSW5jb21pbmdBY3Rpb25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "IncomingAction.js"
      ],
      "names": [
        "IncomingAction",
        "extend",
        "tableName",
        "hasTimestamps",
        "api",
        "belongsTo",
        "registerIncomingActions",
        "incomingActions",
        "apiId",
        "forgedIncActions",
        "map",
        "incomingAction",
        "api_id",
        "create",
        "allSettled",
        "findByEndPoint",
        "endPoint",
        "action",
        "endPointVariation",
        "actionVariation",
        "findOne"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,eAAKC,MAAL,CAAY;AACjCC,aAAW,kBADsB;AAEjCC,iBAAe,IAFkB;AAGjCC,KAHiC,iBAG3B;AACJ,WAAO,KAAKC,SAAL,CAAe,MAAf,CAAP;AACD;AALgC,CAAZ,EAMpB;AACDC,yBADC,yCACmD;AAAA;;AAAA,QAA1BC,eAA0B,QAA1BA,eAA0B;AAAA,QAATC,KAAS,QAATA,KAAS;;AAClD,QAAMC,mBAAmBF,gBAAgBG,GAAhB,CAAoB,UAACC,cAAD,EAAoB;AAC/DA,qBAAeC,MAAf,GAAwBJ,KAAxB;AACA,aAAO,MAAKK,MAAL,CAAYF,cAAZ,EAA4B,IAA5B,CAAP;AACD,KAHwB,CAAzB;AAIA,gBAAEG,UAAF,CAAaL,gBAAb;AACD,GAPA;AAQDM,gBARC,0BAQcC,QARd,EAQwBC,MARxB,EAQgC;AAC/B,QAAMC,0BAAwBF,QAA9B;AACA,QAAMG,wBAAsBF,MAA5B;AACA,WAAO,KAAKG,OAAL,CAAa,EAAEJ,UAAUE,iBAAZ,EAA+BD,QAAQE,eAAvC,EAAb,CAAP;AACD;AAZA,CANoB,CAAvB;;kBAqBenB,c",
      "file": "IncomingAction.js",
      "sourceRoot": "/home/core/models/single",
      "sourcesContent": [
        "import Q from 'q'\nimport base from './base'\n\nconst IncomingAction = base.extend({\n  tableName: 'incoming_actions',\n  hasTimestamps: true,\n  api() {\n    return this.belongsTo('Apis')\n  },\n}, {\n  registerIncomingActions({ incomingActions, apiId }) {\n    const forgedIncActions = incomingActions.map((incomingAction) => {\n      incomingAction.api_id = apiId\n      return this.create(incomingAction, null)\n    })\n    Q.allSettled(forgedIncActions)\n  },\n  findByEndPoint(endPoint, action) {\n    const endPointVariation = `/${endPoint}`\n    const actionVariation = `/${action}`\n    return this.findOne({ endPoint: endPointVariation, action: actionVariation })\n  },\n})\n\nexport default IncomingAction\n"
      ]
    },
    "mtime": 1489055629175
  },
  "{\"filename\":\"/home/core/models/single/OutgoingAction.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models/single\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "q",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Q"
              }
            ]
          },
          {
            "source": "./base",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "base"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/single/OutgoingAction.js",
      "filenameRelative": "/home/core/models/single/OutgoingAction.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "OutgoingAction.js",
      "sourceFileName": "OutgoingAction.js",
      "sourceRoot": "/home/core/models/single",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models/single",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "OutgoingAction"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar OutgoingAction = _base2.default.extend({\n  tableName: 'outgoing_actions',\n  hasTimestamps: true,\n  api: function api() {\n    return this.belongsTo('Apis');\n  }\n}, {\n  registerOutgoingActions: function registerOutgoingActions(_ref) {\n    var _this = this;\n\n    var outgoingActions = _ref.outgoingActions,\n        apiId = _ref.apiId;\n\n    var forgedOutActions = outgoingActions.map(function (outgoingAction) {\n      outgoingAction.api_id = apiId;\n      return _this.create(outgoingAction, null);\n    });\n    _q2.default.allSettled(forgedOutActions);\n  }\n});\n\nexports.default = OutgoingAction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk91dGdvaW5nQWN0aW9uLmpzIl0sIm5hbWVzIjpbIk91dGdvaW5nQWN0aW9uIiwiZXh0ZW5kIiwidGFibGVOYW1lIiwiaGFzVGltZXN0YW1wcyIsImFwaSIsImJlbG9uZ3NUbyIsInJlZ2lzdGVyT3V0Z29pbmdBY3Rpb25zIiwib3V0Z29pbmdBY3Rpb25zIiwiYXBpSWQiLCJmb3JnZWRPdXRBY3Rpb25zIiwibWFwIiwib3V0Z29pbmdBY3Rpb24iLCJhcGlfaWQiLCJjcmVhdGUiLCJhbGxTZXR0bGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxpQkFBaUIsZUFBS0MsTUFBTCxDQUFZO0FBQ2pDQyxhQUFXLGtCQURzQjtBQUVqQ0MsaUJBQWUsSUFGa0I7QUFHakNDLEtBSGlDLGlCQUczQjtBQUNKLFdBQU8sS0FBS0MsU0FBTCxDQUFlLE1BQWYsQ0FBUDtBQUNEO0FBTGdDLENBQVosRUFNcEI7QUFDREMseUJBREMseUNBQ21EO0FBQUE7O0FBQUEsUUFBMUJDLGVBQTBCLFFBQTFCQSxlQUEwQjtBQUFBLFFBQVRDLEtBQVMsUUFBVEEsS0FBUzs7QUFDbEQsUUFBTUMsbUJBQW1CRixnQkFBZ0JHLEdBQWhCLENBQW9CLFVBQUNDLGNBQUQsRUFBb0I7QUFDL0RBLHFCQUFlQyxNQUFmLEdBQXdCSixLQUF4QjtBQUNBLGFBQU8sTUFBS0ssTUFBTCxDQUFZRixjQUFaLEVBQTRCLElBQTVCLENBQVA7QUFDRCxLQUh3QixDQUF6QjtBQUlBLGdCQUFFRyxVQUFGLENBQWFMLGdCQUFiO0FBQ0Q7QUFQQSxDQU5vQixDQUF2Qjs7a0JBZ0JlVCxjIiwiZmlsZSI6Ik91dGdvaW5nQWN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvbW9kZWxzL3NpbmdsZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRIGZyb20gJ3EnXG5pbXBvcnQgYmFzZSBmcm9tICcuL2Jhc2UnXG5cbmNvbnN0IE91dGdvaW5nQWN0aW9uID0gYmFzZS5leHRlbmQoe1xuICB0YWJsZU5hbWU6ICdvdXRnb2luZ19hY3Rpb25zJyxcbiAgaGFzVGltZXN0YW1wczogdHJ1ZSxcbiAgYXBpKCkge1xuICAgIHJldHVybiB0aGlzLmJlbG9uZ3NUbygnQXBpcycpXG4gIH0sXG59LCB7XG4gIHJlZ2lzdGVyT3V0Z29pbmdBY3Rpb25zKHsgb3V0Z29pbmdBY3Rpb25zLCBhcGlJZCB9KSB7XG4gICAgY29uc3QgZm9yZ2VkT3V0QWN0aW9ucyA9IG91dGdvaW5nQWN0aW9ucy5tYXAoKG91dGdvaW5nQWN0aW9uKSA9PiB7XG4gICAgICBvdXRnb2luZ0FjdGlvbi5hcGlfaWQgPSBhcGlJZFxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKG91dGdvaW5nQWN0aW9uLCBudWxsKVxuICAgIH0pXG4gICAgUS5hbGxTZXR0bGVkKGZvcmdlZE91dEFjdGlvbnMpXG4gIH0sXG59KVxuXG5leHBvcnQgZGVmYXVsdCBPdXRnb2luZ0FjdGlvblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "OutgoingAction.js"
      ],
      "names": [
        "OutgoingAction",
        "extend",
        "tableName",
        "hasTimestamps",
        "api",
        "belongsTo",
        "registerOutgoingActions",
        "outgoingActions",
        "apiId",
        "forgedOutActions",
        "map",
        "outgoingAction",
        "api_id",
        "create",
        "allSettled"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,eAAKC,MAAL,CAAY;AACjCC,aAAW,kBADsB;AAEjCC,iBAAe,IAFkB;AAGjCC,KAHiC,iBAG3B;AACJ,WAAO,KAAKC,SAAL,CAAe,MAAf,CAAP;AACD;AALgC,CAAZ,EAMpB;AACDC,yBADC,yCACmD;AAAA;;AAAA,QAA1BC,eAA0B,QAA1BA,eAA0B;AAAA,QAATC,KAAS,QAATA,KAAS;;AAClD,QAAMC,mBAAmBF,gBAAgBG,GAAhB,CAAoB,UAACC,cAAD,EAAoB;AAC/DA,qBAAeC,MAAf,GAAwBJ,KAAxB;AACA,aAAO,MAAKK,MAAL,CAAYF,cAAZ,EAA4B,IAA5B,CAAP;AACD,KAHwB,CAAzB;AAIA,gBAAEG,UAAF,CAAaL,gBAAb;AACD;AAPA,CANoB,CAAvB;;kBAgBeT,c",
      "file": "OutgoingAction.js",
      "sourceRoot": "/home/core/models/single",
      "sourcesContent": [
        "import Q from 'q'\nimport base from './base'\n\nconst OutgoingAction = base.extend({\n  tableName: 'outgoing_actions',\n  hasTimestamps: true,\n  api() {\n    return this.belongsTo('Apis')\n  },\n}, {\n  registerOutgoingActions({ outgoingActions, apiId }) {\n    const forgedOutActions = outgoingActions.map((outgoingAction) => {\n      outgoingAction.api_id = apiId\n      return this.create(outgoingAction, null)\n    })\n    Q.allSettled(forgedOutActions)\n  },\n})\n\nexport default OutgoingAction\n"
      ]
    },
    "mtime": 1489055024175
  },
  "{\"filename\":\"/home/core/controllers/html/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/controllers/html\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/controllers/html/index.js",
      "filenameRelative": "/home/core/controllers/html/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/controllers/html",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/controllers/html",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nexports.default = function () {\n  var html = (0, _express.Router)();\n\n  // root HTML\n  html.get('/', function (req, res) {\n    res.render('html/home.hbs', {\n      title: 'Home'\n    });\n  });\n  return html;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImh0bWwiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJ0aXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O2tCQUVlLFlBQU07QUFDbkIsTUFBTUEsT0FBTyxzQkFBYjs7QUFFQTtBQUNBQSxPQUFLQyxHQUFMLENBQVMsR0FBVCxFQUFjLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQzFCQSxRQUFJQyxNQUFKLENBQVcsZUFBWCxFQUE0QjtBQUMxQkMsYUFBTztBQURtQixLQUE1QjtBQUdELEdBSkQ7QUFLQSxTQUFPTCxJQUFQO0FBQ0QsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2NvbnRyb2xsZXJzL2h0bWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJ1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIGNvbnN0IGh0bWwgPSBSb3V0ZXIoKVxuXG4gIC8vIHJvb3QgSFRNTFxuICBodG1sLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5yZW5kZXIoJ2h0bWwvaG9tZS5oYnMnLCB7XG4gICAgICB0aXRsZTogJ0hvbWUnLFxuICAgIH0pXG4gIH0pXG4gIHJldHVybiBodG1sXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "html",
        "get",
        "req",
        "res",
        "render",
        "title"
      ],
      "mappings": ";;;;;;AAAA;;kBAEe,YAAM;AACnB,MAAMA,OAAO,sBAAb;;AAEA;AACAA,OAAKC,GAAL,CAAS,GAAT,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,QAAIC,MAAJ,CAAW,eAAX,EAA4B;AAC1BC,aAAO;AADmB,KAA5B;AAGD,GAJD;AAKA,SAAOL,IAAP;AACD,C",
      "file": "index.js",
      "sourceRoot": "/home/core/controllers/html",
      "sourcesContent": [
        "import { Router } from 'express'\n\nexport default () => {\n  const html = Router()\n\n  // root HTML\n  html.get('/', (req, res) => {\n    res.render('html/home.hbs', {\n      title: 'Home',\n    })\n  })\n  return html\n}\n"
      ]
    },
    "mtime": 1486896491921
  },
  "{\"filename\":\"/home/core/controllers/webhooks/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/controllers/webhooks\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          },
          {
            "source": "../../models/single/IncomingAction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "incomingAction"
              }
            ]
          },
          {
            "source": "../../helpers/url",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "urlHelper"
              }
            ]
          },
          {
            "source": "../../pubsub",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pubsub"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/controllers/webhooks/index.js",
      "filenameRelative": "/home/core/controllers/webhooks/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/controllers/webhooks",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/controllers/webhooks",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _IncomingAction = require('../../models/single/IncomingAction');\n\nvar _IncomingAction2 = _interopRequireDefault(_IncomingAction);\n\nvar _url = require('../../helpers/url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _pubsub = require('../../pubsub');\n\nvar _pubsub2 = _interopRequireDefault(_pubsub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Route(/webhook)\n * @returns {*}\n */\nexports.default = function () {\n  var webhook = (0, _express.Router)();\n\n  /**\n    * Received webhook incoming action\n   */\n  webhook.use('/*', function (req, res) {\n    var body = req.body,\n        originalUrl = req.originalUrl;\n\n    var _urlHelper$getApiActi = _url2.default.getApiActions(originalUrl),\n        endpoint = _urlHelper$getApiActi.endpoint,\n        action = _urlHelper$getApiActi.action;\n\n    // Handle incoming action and publish it to APIs\n\n\n    _IncomingAction2.default.findByEndPoint(endpoint, action).then(function () {\n      var actionRoute = endpoint + ':' + action;\n      _pubsub2.default.publish(actionRoute, body);\n      res.json({ result: true });\n    }).catch(function () {\n      res.json({ result: false });\n    });\n  });\n  return webhook;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndlYmhvb2siLCJ1c2UiLCJyZXEiLCJyZXMiLCJib2R5Iiwib3JpZ2luYWxVcmwiLCJnZXRBcGlBY3Rpb25zIiwiZW5kcG9pbnQiLCJhY3Rpb24iLCJmaW5kQnlFbmRQb2ludCIsInRoZW4iLCJhY3Rpb25Sb3V0ZSIsInB1Ymxpc2giLCJqc29uIiwicmVzdWx0IiwiY2F0Y2giXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7a0JBSWUsWUFBTTtBQUNuQixNQUFNQSxVQUFVLHNCQUFoQjs7QUFFRDs7O0FBR0NBLFVBQVFDLEdBQVIsQ0FBWSxJQUFaLEVBQWtCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQUEsUUFDdEJDLElBRHNCLEdBQ0FGLEdBREEsQ0FDdEJFLElBRHNCO0FBQUEsUUFDaEJDLFdBRGdCLEdBQ0FILEdBREEsQ0FDaEJHLFdBRGdCOztBQUFBLGdDQUVELGNBQVVDLGFBQVYsQ0FBd0JELFdBQXhCLENBRkM7QUFBQSxRQUV0QkUsUUFGc0IseUJBRXRCQSxRQUZzQjtBQUFBLFFBRVpDLE1BRlkseUJBRVpBLE1BRlk7O0FBSTlCOzs7QUFDQSw2QkFBZUMsY0FBZixDQUE4QkYsUUFBOUIsRUFBd0NDLE1BQXhDLEVBQ0NFLElBREQsQ0FDTSxZQUFNO0FBQ1YsVUFBTUMsY0FBaUJKLFFBQWpCLFNBQTZCQyxNQUFuQztBQUNBLHVCQUFPSSxPQUFQLENBQWVELFdBQWYsRUFBNEJQLElBQTVCO0FBQ0FELFVBQUlVLElBQUosQ0FBUyxFQUFFQyxRQUFRLElBQVYsRUFBVDtBQUNELEtBTEQsRUFNQ0MsS0FORCxDQU1PLFlBQU07QUFDWFosVUFBSVUsSUFBSixDQUFTLEVBQUVDLFFBQVEsS0FBVixFQUFUO0FBQ0QsS0FSRDtBQVNELEdBZEQ7QUFlQSxTQUFPZCxPQUFQO0FBQ0QsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2NvbnRyb2xsZXJzL3dlYmhvb2tzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCBpbmNvbWluZ0FjdGlvbiBmcm9tICcuLi8uLi9tb2RlbHMvc2luZ2xlL0luY29taW5nQWN0aW9uJ1xuaW1wb3J0IHVybEhlbHBlciBmcm9tICcuLi8uLi9oZWxwZXJzL3VybCdcbmltcG9ydCBwdWJzdWIgZnJvbSAnLi4vLi4vcHVic3ViJ1xuXG4vKipcbiAqIFJvdXRlKC93ZWJob29rKVxuICogQHJldHVybnMgeyp9XG4gKi9cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgY29uc3Qgd2ViaG9vayA9IFJvdXRlcigpXG5cblx0LyoqXG4gICAqIFJlY2VpdmVkIHdlYmhvb2sgaW5jb21pbmcgYWN0aW9uXG5cdCAqL1xuICB3ZWJob29rLnVzZSgnLyonLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGJvZHksIG9yaWdpbmFsVXJsIH0gPSByZXFcbiAgICBjb25zdCB7IGVuZHBvaW50LCBhY3Rpb24gfSA9IHVybEhlbHBlci5nZXRBcGlBY3Rpb25zKG9yaWdpbmFsVXJsKVxuXG4gICAgLy8gSGFuZGxlIGluY29taW5nIGFjdGlvbiBhbmQgcHVibGlzaCBpdCB0byBBUElzXG4gICAgaW5jb21pbmdBY3Rpb24uZmluZEJ5RW5kUG9pbnQoZW5kcG9pbnQsIGFjdGlvbilcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb25Sb3V0ZSA9IGAke2VuZHBvaW50fToke2FjdGlvbn1gXG4gICAgICBwdWJzdWIucHVibGlzaChhY3Rpb25Sb3V0ZSwgYm9keSlcbiAgICAgIHJlcy5qc29uKHsgcmVzdWx0OiB0cnVlIH0pXG4gICAgfSlcbiAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgcmVzLmpzb24oeyByZXN1bHQ6IGZhbHNlIH0pXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHdlYmhvb2tcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "webhook",
        "use",
        "req",
        "res",
        "body",
        "originalUrl",
        "getApiActions",
        "endpoint",
        "action",
        "findByEndPoint",
        "then",
        "actionRoute",
        "publish",
        "json",
        "result",
        "catch"
      ],
      "mappings": ";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;kBAIe,YAAM;AACnB,MAAMA,UAAU,sBAAhB;;AAED;;;AAGCA,UAAQC,GAAR,CAAY,IAAZ,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,QACtBC,IADsB,GACAF,GADA,CACtBE,IADsB;AAAA,QAChBC,WADgB,GACAH,GADA,CAChBG,WADgB;;AAAA,gCAED,cAAUC,aAAV,CAAwBD,WAAxB,CAFC;AAAA,QAEtBE,QAFsB,yBAEtBA,QAFsB;AAAA,QAEZC,MAFY,yBAEZA,MAFY;;AAI9B;;;AACA,6BAAeC,cAAf,CAA8BF,QAA9B,EAAwCC,MAAxC,EACCE,IADD,CACM,YAAM;AACV,UAAMC,cAAiBJ,QAAjB,SAA6BC,MAAnC;AACA,uBAAOI,OAAP,CAAeD,WAAf,EAA4BP,IAA5B;AACAD,UAAIU,IAAJ,CAAS,EAAEC,QAAQ,IAAV,EAAT;AACD,KALD,EAMCC,KAND,CAMO,YAAM;AACXZ,UAAIU,IAAJ,CAAS,EAAEC,QAAQ,KAAV,EAAT;AACD,KARD;AASD,GAdD;AAeA,SAAOd,OAAP;AACD,C",
      "file": "index.js",
      "sourceRoot": "/home/core/controllers/webhooks",
      "sourcesContent": [
        "import { Router } from 'express'\nimport incomingAction from '../../models/single/IncomingAction'\nimport urlHelper from '../../helpers/url'\nimport pubsub from '../../pubsub'\n\n/**\n * Route(/webhook)\n * @returns {*}\n */\nexport default () => {\n  const webhook = Router()\n\n\t/**\n   * Received webhook incoming action\n\t */\n  webhook.use('/*', (req, res) => {\n    const { body, originalUrl } = req\n    const { endpoint, action } = urlHelper.getApiActions(originalUrl)\n\n    // Handle incoming action and publish it to APIs\n    incomingAction.findByEndPoint(endpoint, action)\n    .then(() => {\n      const actionRoute = `${endpoint}:${action}`\n      pubsub.publish(actionRoute, body)\n      res.json({ result: true })\n    })\n    .catch(() => {\n      res.json({ result: false })\n    })\n  })\n  return webhook\n}\n"
      ]
    },
    "mtime": 1489055652854
  },
  "{\"filename\":\"/home/core/helpers/url.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/helpers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/helpers/url.js",
      "filenameRelative": "/home/core/helpers/url.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "url.js",
      "sourceFileName": "url.js",
      "sourceRoot": "/home/core/helpers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/helpers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "url"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getApiActions = function getApiActions(originalUrl) {\n  var split = originalUrl.split('/');\n  split.shift();\n  return {\n    endpoint: split[1],\n    action: split[2]\n  };\n};\n\nexports.default = {\n  getApiActions: getApiActions\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVybC5qcyJdLCJuYW1lcyI6WyJnZXRBcGlBY3Rpb25zIiwib3JpZ2luYWxVcmwiLCJzcGxpdCIsInNoaWZ0IiwiZW5kcG9pbnQiLCJhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsZ0JBQWdCLFNBQWhCQSxhQUFnQixDQUFDQyxXQUFELEVBQWlCO0FBQ3JDLE1BQU1DLFFBQVFELFlBQVlDLEtBQVosQ0FBa0IsR0FBbEIsQ0FBZDtBQUNBQSxRQUFNQyxLQUFOO0FBQ0EsU0FBTztBQUNMQyxjQUFVRixNQUFNLENBQU4sQ0FETDtBQUVMRyxZQUFRSCxNQUFNLENBQU47QUFGSCxHQUFQO0FBSUQsQ0FQRDs7a0JBU2U7QUFDYkY7QUFEYSxDIiwiZmlsZSI6InVybC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRBcGlBY3Rpb25zID0gKG9yaWdpbmFsVXJsKSA9PiB7XG4gIGNvbnN0IHNwbGl0ID0gb3JpZ2luYWxVcmwuc3BsaXQoJy8nKVxuICBzcGxpdC5zaGlmdCgpXG4gIHJldHVybiB7XG4gICAgZW5kcG9pbnQ6IHNwbGl0WzFdLFxuICAgIGFjdGlvbjogc3BsaXRbMl0sXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBcGlBY3Rpb25zLFxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "url.js"
      ],
      "names": [
        "getApiActions",
        "originalUrl",
        "split",
        "shift",
        "endpoint",
        "action"
      ],
      "mappings": ";;;;;AAAA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,WAAD,EAAiB;AACrC,MAAMC,QAAQD,YAAYC,KAAZ,CAAkB,GAAlB,CAAd;AACAA,QAAMC,KAAN;AACA,SAAO;AACLC,cAAUF,MAAM,CAAN,CADL;AAELG,YAAQH,MAAM,CAAN;AAFH,GAAP;AAID,CAPD;;kBASe;AACbF;AADa,C",
      "file": "url.js",
      "sourceRoot": "/home/core/helpers",
      "sourcesContent": [
        "const getApiActions = (originalUrl) => {\n  const split = originalUrl.split('/')\n  split.shift()\n  return {\n    endpoint: split[1],\n    action: split[2],\n  }\n}\n\nexport default {\n  getApiActions,\n}\n"
      ]
    },
    "mtime": 1489055213649
  },
  "{\"filename\":\"/home/core/pubsub/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/pubsub\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "events",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Events"
              }
            ]
          },
          {
            "source": "lodash/forOwn",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "forOwn"
              }
            ]
          },
          {
            "source": "../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../helpers/root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "root"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/pubsub/index.js",
      "filenameRelative": "/home/core/pubsub/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/pubsub",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/pubsub",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _forOwn = require('lodash/forOwn');\n\nvar _forOwn2 = _interopRequireDefault(_forOwn);\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _root = require('../helpers/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar actions = _config2.default.get('actions');\nvar events = _root2.default.events;\n\n/**\r\n * Intializes IO\r\n * @param io\r\n */\nfunction initialize(io) {\n  if (typeof _root2.default.io === 'undefined') {\n    events = new _events2.default.EventEmitter();\n\n    _root2.default.events = events;\n    _root2.default.io = io;\n    io.on('connection', function (socket) {\n      (0, _forOwn2.default)(actions, function (value) {\n        var event = value.event;\n\n        socket.on(event, function (payload) {\n          var query = socket.handshake.query;\n\n          events.emit(event, { payload: payload, query: query });\n        });\n      });\n    });\n  }\n}\n\nvar publish = function publish(action, data) {\n  var io = _root2.default.io;\n\n  if (io) {\n    io.emit(action, data);\n  }\n};\n\nvar subscribe = function subscribe(action, callback) {\n  events.on(action, callback);\n};\n\nexports.default = {\n  initialize: initialize,\n  publish: publish,\n  subscribe: subscribe\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFjdGlvbnMiLCJnZXQiLCJldmVudHMiLCJpbml0aWFsaXplIiwiaW8iLCJFdmVudEVtaXR0ZXIiLCJvbiIsInNvY2tldCIsInZhbHVlIiwiZXZlbnQiLCJwYXlsb2FkIiwicXVlcnkiLCJoYW5kc2hha2UiLCJlbWl0IiwicHVibGlzaCIsImFjdGlvbiIsImRhdGEiLCJzdWJzY3JpYmUiLCJjYWxsYmFjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLFVBQVUsaUJBQU9DLEdBQVAsQ0FBVyxTQUFYLENBQWhCO0FBQ0EsSUFBSUMsU0FBUyxlQUFLQSxNQUFsQjs7QUFFQTs7OztBQUlBLFNBQVNDLFVBQVQsQ0FBb0JDLEVBQXBCLEVBQXdCO0FBQ3RCLE1BQUksT0FBTyxlQUFLQSxFQUFaLEtBQW1CLFdBQXZCLEVBQW9DO0FBQ2xDRixhQUFTLElBQUksaUJBQU9HLFlBQVgsRUFBVDs7QUFFQSxtQkFBS0gsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsbUJBQUtFLEVBQUwsR0FBVUEsRUFBVjtBQUNBQSxPQUFHRSxFQUFILENBQU0sWUFBTixFQUFvQixVQUFDQyxNQUFELEVBQVk7QUFDOUIsNEJBQU9QLE9BQVAsRUFBZ0IsVUFBQ1EsS0FBRCxFQUFXO0FBQUEsWUFDakJDLEtBRGlCLEdBQ1BELEtBRE8sQ0FDakJDLEtBRGlCOztBQUV6QkYsZUFBT0QsRUFBUCxDQUFVRyxLQUFWLEVBQWlCLFVBQUNDLE9BQUQsRUFBYTtBQUFBLGNBQ3BCQyxLQURvQixHQUNWSixPQUFPSyxTQURHLENBQ3BCRCxLQURvQjs7QUFFNUJULGlCQUFPVyxJQUFQLENBQVlKLEtBQVosRUFBbUIsRUFBRUMsZ0JBQUYsRUFBV0MsWUFBWCxFQUFuQjtBQUNELFNBSEQ7QUFJRCxPQU5EO0FBT0QsS0FSRDtBQVNEO0FBQ0Y7O0FBRUQsSUFBTUcsVUFBVSxTQUFWQSxPQUFVLENBQUNDLE1BQUQsRUFBU0MsSUFBVCxFQUFrQjtBQUFBLE1BQ3hCWixFQUR3QixrQkFDeEJBLEVBRHdCOztBQUVoQyxNQUFJQSxFQUFKLEVBQVE7QUFDTkEsT0FBR1MsSUFBSCxDQUFRRSxNQUFSLEVBQWdCQyxJQUFoQjtBQUNEO0FBQ0YsQ0FMRDs7QUFPQSxJQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBQ0YsTUFBRCxFQUFTRyxRQUFULEVBQXNCO0FBQ3RDaEIsU0FBT0ksRUFBUCxDQUFVUyxNQUFWLEVBQWtCRyxRQUFsQjtBQUNELENBRkQ7O2tCQUllO0FBQ2JmLHdCQURhO0FBRWJXLGtCQUZhO0FBR2JHO0FBSGEsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL3B1YnN1YiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudHMgZnJvbSAnZXZlbnRzJ1xyXG5pbXBvcnQgZm9yT3duIGZyb20gJ2xvZGFzaC9mb3JPd24nXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgcm9vdCBmcm9tICcuLi9oZWxwZXJzL3Jvb3QnXHJcblxyXG5jb25zdCBhY3Rpb25zID0gY29uZmlnLmdldCgnYWN0aW9ucycpXHJcbmxldCBldmVudHMgPSByb290LmV2ZW50c1xyXG5cclxuLyoqXHJcbiAqIEludGlhbGl6ZXMgSU9cclxuICogQHBhcmFtIGlvXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0aWFsaXplKGlvKSB7XHJcbiAgaWYgKHR5cGVvZiByb290LmlvID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgZXZlbnRzID0gbmV3IEV2ZW50cy5FdmVudEVtaXR0ZXIoKVxyXG5cclxuICAgIHJvb3QuZXZlbnRzID0gZXZlbnRzXHJcbiAgICByb290LmlvID0gaW9cclxuICAgIGlvLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xyXG4gICAgICBmb3JPd24oYWN0aW9ucywgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBldmVudCB9ID0gdmFsdWVcclxuICAgICAgICBzb2NrZXQub24oZXZlbnQsIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IHF1ZXJ5IH0gPSBzb2NrZXQuaGFuZHNoYWtlXHJcbiAgICAgICAgICBldmVudHMuZW1pdChldmVudCwgeyBwYXlsb2FkLCBxdWVyeSB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgcHVibGlzaCA9IChhY3Rpb24sIGRhdGEpID0+IHtcclxuICBjb25zdCB7IGlvIH0gPSByb290XHJcbiAgaWYgKGlvKSB7XHJcbiAgICBpby5lbWl0KGFjdGlvbiwgZGF0YSlcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHN1YnNjcmliZSA9IChhY3Rpb24sIGNhbGxiYWNrKSA9PiB7XHJcbiAgZXZlbnRzLm9uKGFjdGlvbiwgY2FsbGJhY2spXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBpbml0aWFsaXplLFxyXG4gIHB1Ymxpc2gsXHJcbiAgc3Vic2NyaWJlLFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "actions",
        "get",
        "events",
        "initialize",
        "io",
        "EventEmitter",
        "on",
        "socket",
        "value",
        "event",
        "payload",
        "query",
        "handshake",
        "emit",
        "publish",
        "action",
        "data",
        "subscribe",
        "callback"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,UAAU,iBAAOC,GAAP,CAAW,SAAX,CAAhB;AACA,IAAIC,SAAS,eAAKA,MAAlB;;AAEA;;;;AAIA,SAASC,UAAT,CAAoBC,EAApB,EAAwB;AACtB,MAAI,OAAO,eAAKA,EAAZ,KAAmB,WAAvB,EAAoC;AAClCF,aAAS,IAAI,iBAAOG,YAAX,EAAT;;AAEA,mBAAKH,MAAL,GAAcA,MAAd;AACA,mBAAKE,EAAL,GAAUA,EAAV;AACAA,OAAGE,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;AAC9B,4BAAOP,OAAP,EAAgB,UAACQ,KAAD,EAAW;AAAA,YACjBC,KADiB,GACPD,KADO,CACjBC,KADiB;;AAEzBF,eAAOD,EAAP,CAAUG,KAAV,EAAiB,UAACC,OAAD,EAAa;AAAA,cACpBC,KADoB,GACVJ,OAAOK,SADG,CACpBD,KADoB;;AAE5BT,iBAAOW,IAAP,CAAYJ,KAAZ,EAAmB,EAAEC,gBAAF,EAAWC,YAAX,EAAnB;AACD,SAHD;AAID,OAND;AAOD,KARD;AASD;AACF;;AAED,IAAMG,UAAU,SAAVA,OAAU,CAACC,MAAD,EAASC,IAAT,EAAkB;AAAA,MACxBZ,EADwB,kBACxBA,EADwB;;AAEhC,MAAIA,EAAJ,EAAQ;AACNA,OAAGS,IAAH,CAAQE,MAAR,EAAgBC,IAAhB;AACD;AACF,CALD;;AAOA,IAAMC,YAAY,SAAZA,SAAY,CAACF,MAAD,EAASG,QAAT,EAAsB;AACtChB,SAAOI,EAAP,CAAUS,MAAV,EAAkBG,QAAlB;AACD,CAFD;;kBAIe;AACbf,wBADa;AAEbW,kBAFa;AAGbG;AAHa,C",
      "file": "index.js",
      "sourceRoot": "/home/core/pubsub",
      "sourcesContent": [
        "import Events from 'events'\r\nimport forOwn from 'lodash/forOwn'\r\nimport config from '../config'\r\nimport root from '../helpers/root'\r\n\r\nconst actions = config.get('actions')\r\nlet events = root.events\r\n\r\n/**\r\n * Intializes IO\r\n * @param io\r\n */\r\nfunction initialize(io) {\r\n  if (typeof root.io === 'undefined') {\r\n    events = new Events.EventEmitter()\r\n\r\n    root.events = events\r\n    root.io = io\r\n    io.on('connection', (socket) => {\r\n      forOwn(actions, (value) => {\r\n        const { event } = value\r\n        socket.on(event, (payload) => {\r\n          const { query } = socket.handshake\r\n          events.emit(event, { payload, query })\r\n        })\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nconst publish = (action, data) => {\r\n  const { io } = root\r\n  if (io) {\r\n    io.emit(action, data)\r\n  }\r\n}\r\n\r\nconst subscribe = (action, callback) => {\r\n  events.on(action, callback)\r\n}\r\n\r\nexport default {\r\n  initialize,\r\n  publish,\r\n  subscribe,\r\n}\r\n"
      ]
    },
    "mtime": 1489496163522
  },
  "{\"filename\":\"/home/core/controllers/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/controllers/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lodash/forOwn",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "forOwn"
              }
            ]
          },
          {
            "source": "lodash/get",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "get"
              }
            ]
          },
          {
            "source": "../../pubsub",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pubsub"
              }
            ]
          },
          {
            "source": "../../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../../models/single",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "single"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/controllers/app/index.js",
      "filenameRelative": "/home/core/controllers/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/controllers/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/controllers/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _forOwn = require('lodash/forOwn');\n\nvar _forOwn2 = _interopRequireDefault(_forOwn);\n\nvar _get = require('lodash/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _pubsub = require('../../pubsub');\n\nvar _pubsub2 = _interopRequireDefault(_pubsub);\n\nvar _config = require('../../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _single = require('../../models/single');\n\nvar _single2 = _interopRequireDefault(_single);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Setup pubsub subscribers for communication with Apps\r\n */\nvar setup = function setup() {\n  /**\r\n    * Registers any apps.\r\n    * TODO: Check duplicates\r\n    * TODO: Check that query contains requires data. query.bipName must be present\r\n   */\n  _pubsub2.default.subscribe(_config2.default.get('actions:register_app:event'), function (_ref) {\n    var payload = _ref.payload;\n\n    // TODO: Implement schema validator\n    var app = {\n      name: payload.name,\n      description: payload.description\n    };\n    var incomingActions = [];\n    var outgoingActions = [];\n\n    // TODO: Think about refactoring this section. Does it belong to controllers?\n    // Creates an array of incomingActions\n    (0, _forOwn2.default)(payload.incomingActions, function (val) {\n      incomingActions.push(val);\n    });\n\n    // Creates an array of outgoingActions\n    (0, _forOwn2.default)(payload.outgoingActions, function (val) {\n      outgoingActions.push(val);\n    });\n\n    // Register an app with incoming and outgoing actions\n    _single2.default.App.registerApp({ app: app, incomingActions: incomingActions, outgoingActions: outgoingActions }).then(function (result) {\n      console.log('successfully registered an App ', result.attributes.name);\n    });\n  });\n\n  /**\r\n    * Accepts any incoming actions from Apps\r\n    * All payload must be formatted as\r\n    * payload = {\r\n    *  payload // contains actual data\r\n    *  meta // contains meta data, incoming action name, app name\r\n    * }\r\n    *\r\n    * query: contains name of bip, retrieved from socket's query string\r\n   */\n  _pubsub2.default.subscribe(_config2.default.get('actions:incoming_action:event'), function (_ref2) {\n    var payload = _ref2.payload,\n        query = _ref2.query;\n\n    var bipName = (0, _get2.default)(payload, 'bipName', null);\n    if (bipName) {\n      console.log('incoming action received! from ', query.bipName, '  ', payload);\n    }\n  });\n\n  /**\r\n    * Accepts ping check\r\n    * TODO: Clarify what todo if ping constantly fails\r\n   */\n  _pubsub2.default.subscribe(_config2.default.get('actions:ping:event'), function (payload) {\n    console.log('Ping from ', payload);\n  });\n};\n\nexports.default = {\n  setup: setup\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInNldHVwIiwic3Vic2NyaWJlIiwiZ2V0IiwicGF5bG9hZCIsImFwcCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImluY29taW5nQWN0aW9ucyIsIm91dGdvaW5nQWN0aW9ucyIsInZhbCIsInB1c2giLCJBcHAiLCJyZWdpc3RlckFwcCIsInRoZW4iLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiYXR0cmlidXRlcyIsInF1ZXJ5IiwiYmlwTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7OztBQUdBLElBQU1BLFFBQVEsU0FBUkEsS0FBUSxHQUFNO0FBQ25COzs7OztBQUtDLG1CQUFPQyxTQUFQLENBQWlCLGlCQUFPQyxHQUFQLENBQVcsNEJBQVgsQ0FBakIsRUFBMkQsZ0JBQWlCO0FBQUEsUUFBZEMsT0FBYyxRQUFkQSxPQUFjOztBQUMxRTtBQUNBLFFBQU1DLE1BQU07QUFDVkMsWUFBTUYsUUFBUUUsSUFESjtBQUVWQyxtQkFBYUgsUUFBUUc7QUFGWCxLQUFaO0FBSUEsUUFBTUMsa0JBQWtCLEVBQXhCO0FBQ0EsUUFBTUMsa0JBQWtCLEVBQXhCOztBQUVBO0FBQ0E7QUFDQSwwQkFBT0wsUUFBUUksZUFBZixFQUFnQyxVQUFDRSxHQUFELEVBQVM7QUFDdkNGLHNCQUFnQkcsSUFBaEIsQ0FBcUJELEdBQXJCO0FBQ0QsS0FGRDs7QUFJQTtBQUNBLDBCQUFPTixRQUFRSyxlQUFmLEVBQWdDLFVBQUNDLEdBQUQsRUFBUztBQUN2Q0Qsc0JBQWdCRSxJQUFoQixDQUFxQkQsR0FBckI7QUFDRCxLQUZEOztBQUlBO0FBQ0EscUJBQU9FLEdBQVAsQ0FBV0MsV0FBWCxDQUF1QixFQUFFUixRQUFGLEVBQU9HLGdDQUFQLEVBQXdCQyxnQ0FBeEIsRUFBdkIsRUFBa0VLLElBQWxFLENBQXVFLFVBQUNDLE1BQUQsRUFBWTtBQUNqRkMsY0FBUUMsR0FBUixDQUFZLGlDQUFaLEVBQStDRixPQUFPRyxVQUFQLENBQWtCWixJQUFqRTtBQUNELEtBRkQ7QUFHRCxHQXhCRDs7QUEwQkQ7Ozs7Ozs7Ozs7QUFVQyxtQkFBT0osU0FBUCxDQUFpQixpQkFBT0MsR0FBUCxDQUFXLCtCQUFYLENBQWpCLEVBQThELGlCQUF3QjtBQUFBLFFBQXJCQyxPQUFxQixTQUFyQkEsT0FBcUI7QUFBQSxRQUFaZSxLQUFZLFNBQVpBLEtBQVk7O0FBQ3BGLFFBQU1DLFVBQVUsbUJBQUloQixPQUFKLEVBQWEsU0FBYixFQUF3QixJQUF4QixDQUFoQjtBQUNBLFFBQUlnQixPQUFKLEVBQWE7QUFDWEosY0FBUUMsR0FBUixDQUFZLGlDQUFaLEVBQStDRSxNQUFNQyxPQUFyRCxFQUE4RCxJQUE5RCxFQUFvRWhCLE9BQXBFO0FBQ0Q7QUFDRixHQUxEOztBQU9EOzs7O0FBSUMsbUJBQU9GLFNBQVAsQ0FBaUIsaUJBQU9DLEdBQVAsQ0FBVyxvQkFBWCxDQUFqQixFQUFtRCxVQUFDQyxPQUFELEVBQWE7QUFDOURZLFlBQVFDLEdBQVIsQ0FBWSxZQUFaLEVBQTBCYixPQUExQjtBQUNELEdBRkQ7QUFHRCxDQXhERDs7a0JBMERlO0FBQ2JIO0FBRGEsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2NvbnRyb2xsZXJzL2FwcCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmb3JPd24gZnJvbSAnbG9kYXNoL2Zvck93bidcclxuaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0J1xyXG5pbXBvcnQgcHVic3ViIGZyb20gJy4uLy4uL3B1YnN1YidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXHJcbmltcG9ydCBzaW5nbGUgZnJvbSAnLi4vLi4vbW9kZWxzL3NpbmdsZSdcclxuXHJcbi8qKlxyXG4gKiBTZXR1cCBwdWJzdWIgc3Vic2NyaWJlcnMgZm9yIGNvbW11bmljYXRpb24gd2l0aCBBcHBzXHJcbiAqL1xyXG5jb25zdCBzZXR1cCA9ICgpID0+IHtcclxuXHQvKipcclxuICAgKiBSZWdpc3RlcnMgYW55IGFwcHMuXHJcbiAgICogVE9ETzogQ2hlY2sgZHVwbGljYXRlc1xyXG4gICAqIFRPRE86IENoZWNrIHRoYXQgcXVlcnkgY29udGFpbnMgcmVxdWlyZXMgZGF0YS4gcXVlcnkuYmlwTmFtZSBtdXN0IGJlIHByZXNlbnRcclxuXHQgKi9cclxuICBwdWJzdWIuc3Vic2NyaWJlKGNvbmZpZy5nZXQoJ2FjdGlvbnM6cmVnaXN0ZXJfYXBwOmV2ZW50JyksICh7IHBheWxvYWQgfSkgPT4ge1xyXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IHNjaGVtYSB2YWxpZGF0b3JcclxuICAgIGNvbnN0IGFwcCA9IHtcclxuICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogcGF5bG9hZC5kZXNjcmlwdGlvbixcclxuICAgIH1cclxuICAgIGNvbnN0IGluY29taW5nQWN0aW9ucyA9IFtdXHJcbiAgICBjb25zdCBvdXRnb2luZ0FjdGlvbnMgPSBbXVxyXG5cclxuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IHJlZmFjdG9yaW5nIHRoaXMgc2VjdGlvbi4gRG9lcyBpdCBiZWxvbmcgdG8gY29udHJvbGxlcnM/XHJcbiAgICAvLyBDcmVhdGVzIGFuIGFycmF5IG9mIGluY29taW5nQWN0aW9uc1xyXG4gICAgZm9yT3duKHBheWxvYWQuaW5jb21pbmdBY3Rpb25zLCAodmFsKSA9PiB7XHJcbiAgICAgIGluY29taW5nQWN0aW9ucy5wdXNoKHZhbClcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQ3JlYXRlcyBhbiBhcnJheSBvZiBvdXRnb2luZ0FjdGlvbnNcclxuICAgIGZvck93bihwYXlsb2FkLm91dGdvaW5nQWN0aW9ucywgKHZhbCkgPT4ge1xyXG4gICAgICBvdXRnb2luZ0FjdGlvbnMucHVzaCh2YWwpXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIGFuIGFwcCB3aXRoIGluY29taW5nIGFuZCBvdXRnb2luZyBhY3Rpb25zXHJcbiAgICBzaW5nbGUuQXBwLnJlZ2lzdGVyQXBwKHsgYXBwLCBpbmNvbWluZ0FjdGlvbnMsIG91dGdvaW5nQWN0aW9ucyB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIGFuIEFwcCAnLCByZXN1bHQuYXR0cmlidXRlcy5uYW1lKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuXHQvKipcclxuICAgKiBBY2NlcHRzIGFueSBpbmNvbWluZyBhY3Rpb25zIGZyb20gQXBwc1xyXG4gICAqIEFsbCBwYXlsb2FkIG11c3QgYmUgZm9ybWF0dGVkIGFzXHJcbiAgICogcGF5bG9hZCA9IHtcclxuICAgKiAgcGF5bG9hZCAvLyBjb250YWlucyBhY3R1YWwgZGF0YVxyXG4gICAqICBtZXRhIC8vIGNvbnRhaW5zIG1ldGEgZGF0YSwgaW5jb21pbmcgYWN0aW9uIG5hbWUsIGFwcCBuYW1lXHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogcXVlcnk6IGNvbnRhaW5zIG5hbWUgb2YgYmlwLCByZXRyaWV2ZWQgZnJvbSBzb2NrZXQncyBxdWVyeSBzdHJpbmdcclxuXHQgKi9cclxuICBwdWJzdWIuc3Vic2NyaWJlKGNvbmZpZy5nZXQoJ2FjdGlvbnM6aW5jb21pbmdfYWN0aW9uOmV2ZW50JyksICh7IHBheWxvYWQsIHF1ZXJ5IH0pID0+IHtcclxuICAgIGNvbnN0IGJpcE5hbWUgPSBnZXQocGF5bG9hZCwgJ2JpcE5hbWUnLCBudWxsKVxyXG4gICAgaWYgKGJpcE5hbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2luY29taW5nIGFjdGlvbiByZWNlaXZlZCEgZnJvbSAnLCBxdWVyeS5iaXBOYW1lLCAnICAnLCBwYXlsb2FkKVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG5cdC8qKlxyXG4gICAqIEFjY2VwdHMgcGluZyBjaGVja1xyXG4gICAqIFRPRE86IENsYXJpZnkgd2hhdCB0b2RvIGlmIHBpbmcgY29uc3RhbnRseSBmYWlsc1xyXG5cdCAqL1xyXG4gIHB1YnN1Yi5zdWJzY3JpYmUoY29uZmlnLmdldCgnYWN0aW9uczpwaW5nOmV2ZW50JyksIChwYXlsb2FkKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnUGluZyBmcm9tICcsIHBheWxvYWQpXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHNldHVwLFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "setup",
        "subscribe",
        "get",
        "payload",
        "app",
        "name",
        "description",
        "incomingActions",
        "outgoingActions",
        "val",
        "push",
        "App",
        "registerApp",
        "then",
        "result",
        "console",
        "log",
        "attributes",
        "query",
        "bipName"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,IAAMA,QAAQ,SAARA,KAAQ,GAAM;AACnB;;;;;AAKC,mBAAOC,SAAP,CAAiB,iBAAOC,GAAP,CAAW,4BAAX,CAAjB,EAA2D,gBAAiB;AAAA,QAAdC,OAAc,QAAdA,OAAc;;AAC1E;AACA,QAAMC,MAAM;AACVC,YAAMF,QAAQE,IADJ;AAEVC,mBAAaH,QAAQG;AAFX,KAAZ;AAIA,QAAMC,kBAAkB,EAAxB;AACA,QAAMC,kBAAkB,EAAxB;;AAEA;AACA;AACA,0BAAOL,QAAQI,eAAf,EAAgC,UAACE,GAAD,EAAS;AACvCF,sBAAgBG,IAAhB,CAAqBD,GAArB;AACD,KAFD;;AAIA;AACA,0BAAON,QAAQK,eAAf,EAAgC,UAACC,GAAD,EAAS;AACvCD,sBAAgBE,IAAhB,CAAqBD,GAArB;AACD,KAFD;;AAIA;AACA,qBAAOE,GAAP,CAAWC,WAAX,CAAuB,EAAER,QAAF,EAAOG,gCAAP,EAAwBC,gCAAxB,EAAvB,EAAkEK,IAAlE,CAAuE,UAACC,MAAD,EAAY;AACjFC,cAAQC,GAAR,CAAY,iCAAZ,EAA+CF,OAAOG,UAAP,CAAkBZ,IAAjE;AACD,KAFD;AAGD,GAxBD;;AA0BD;;;;;;;;;;AAUC,mBAAOJ,SAAP,CAAiB,iBAAOC,GAAP,CAAW,+BAAX,CAAjB,EAA8D,iBAAwB;AAAA,QAArBC,OAAqB,SAArBA,OAAqB;AAAA,QAAZe,KAAY,SAAZA,KAAY;;AACpF,QAAMC,UAAU,mBAAIhB,OAAJ,EAAa,SAAb,EAAwB,IAAxB,CAAhB;AACA,QAAIgB,OAAJ,EAAa;AACXJ,cAAQC,GAAR,CAAY,iCAAZ,EAA+CE,MAAMC,OAArD,EAA8D,IAA9D,EAAoEhB,OAApE;AACD;AACF,GALD;;AAOD;;;;AAIC,mBAAOF,SAAP,CAAiB,iBAAOC,GAAP,CAAW,oBAAX,CAAjB,EAAmD,UAACC,OAAD,EAAa;AAC9DY,YAAQC,GAAR,CAAY,YAAZ,EAA0Bb,OAA1B;AACD,GAFD;AAGD,CAxDD;;kBA0De;AACbH;AADa,C",
      "file": "index.js",
      "sourceRoot": "/home/core/controllers/app",
      "sourcesContent": [
        "import forOwn from 'lodash/forOwn'\r\nimport get from 'lodash/get'\r\nimport pubsub from '../../pubsub'\r\nimport config from '../../config'\r\nimport single from '../../models/single'\r\n\r\n/**\r\n * Setup pubsub subscribers for communication with Apps\r\n */\r\nconst setup = () => {\r\n\t/**\r\n   * Registers any apps.\r\n   * TODO: Check duplicates\r\n   * TODO: Check that query contains requires data. query.bipName must be present\r\n\t */\r\n  pubsub.subscribe(config.get('actions:register_app:event'), ({ payload }) => {\r\n    // TODO: Implement schema validator\r\n    const app = {\r\n      name: payload.name,\r\n      description: payload.description,\r\n    }\r\n    const incomingActions = []\r\n    const outgoingActions = []\r\n\r\n    // TODO: Think about refactoring this section. Does it belong to controllers?\r\n    // Creates an array of incomingActions\r\n    forOwn(payload.incomingActions, (val) => {\r\n      incomingActions.push(val)\r\n    })\r\n\r\n    // Creates an array of outgoingActions\r\n    forOwn(payload.outgoingActions, (val) => {\r\n      outgoingActions.push(val)\r\n    })\r\n\r\n    // Register an app with incoming and outgoing actions\r\n    single.App.registerApp({ app, incomingActions, outgoingActions }).then((result) => {\r\n      console.log('successfully registered an App ', result.attributes.name)\r\n    })\r\n  })\r\n\r\n\t/**\r\n   * Accepts any incoming actions from Apps\r\n   * All payload must be formatted as\r\n   * payload = {\r\n   *  payload // contains actual data\r\n   *  meta // contains meta data, incoming action name, app name\r\n   * }\r\n   *\r\n   * query: contains name of bip, retrieved from socket's query string\r\n\t */\r\n  pubsub.subscribe(config.get('actions:incoming_action:event'), ({ payload, query }) => {\r\n    const bipName = get(payload, 'bipName', null)\r\n    if (bipName) {\r\n      console.log('incoming action received! from ', query.bipName, '  ', payload)\r\n    }\r\n  })\r\n\r\n\t/**\r\n   * Accepts ping check\r\n   * TODO: Clarify what todo if ping constantly fails\r\n\t */\r\n  pubsub.subscribe(config.get('actions:ping:event'), (payload) => {\r\n    console.log('Ping from ', payload)\r\n  })\r\n}\r\n\r\nexport default {\r\n  setup,\r\n}\r\n"
      ]
    },
    "mtime": 1489496163517
  },
  "{\"filename\":\"/home/core/adapter/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/adapter\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./AppLoader",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "appLoader"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/adapter/index.js",
      "filenameRelative": "/home/core/adapter/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/adapter",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/adapter",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AppLoader = require('./AppLoader');\n\nvar _AppLoader2 = _interopRequireDefault(_AppLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar initialize = function initialize(io) {\n  // Invokes init function of each api\n  (0, _AppLoader2.default)().initAPIs();\n\n  /**\n    * Emits action to all sockets\n   * Depreciated\n   * Moving this logic to controller\n   * @param action\n   * @param data\n   */\n  var emit = function emit(action, data) {\n    io.emit(action, data);\n  };\n\n  return {\n    emit: emit\n  };\n};\n\nexports.default = {\n  initialize: initialize\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXRpYWxpemUiLCJpbyIsImluaXRBUElzIiwiZW1pdCIsImFjdGlvbiIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLFNBQWJBLFVBQWEsQ0FBQ0MsRUFBRCxFQUFRO0FBQ3pCO0FBQ0EsNkJBQVlDLFFBQVo7O0FBRUQ7Ozs7Ozs7QUFPQyxNQUFNQyxPQUFPLFNBQVBBLElBQU8sQ0FBQ0MsTUFBRCxFQUFTQyxJQUFULEVBQWtCO0FBQzdCSixPQUFHRSxJQUFILENBQVFDLE1BQVIsRUFBZ0JDLElBQWhCO0FBQ0QsR0FGRDs7QUFJQSxTQUFPO0FBQ0xGO0FBREssR0FBUDtBQUdELENBbEJEOztrQkFvQmU7QUFDYkg7QUFEYSxDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvYWRhcHRlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcHBMb2FkZXIgZnJvbSAnLi9BcHBMb2FkZXInXG5cbmNvbnN0IGluaXRpYWxpemUgPSAoaW8pID0+IHtcbiAgLy8gSW52b2tlcyBpbml0IGZ1bmN0aW9uIG9mIGVhY2ggYXBpXG4gIGFwcExvYWRlcigpLmluaXRBUElzKClcblxuXHQvKipcbiAgICogRW1pdHMgYWN0aW9uIHRvIGFsbCBzb2NrZXRzXG5cdCAqIERlcHJlY2lhdGVkXG5cdCAqIE1vdmluZyB0aGlzIGxvZ2ljIHRvIGNvbnRyb2xsZXJcblx0ICogQHBhcmFtIGFjdGlvblxuXHQgKiBAcGFyYW0gZGF0YVxuXHQgKi9cbiAgY29uc3QgZW1pdCA9IChhY3Rpb24sIGRhdGEpID0+IHtcbiAgICBpby5lbWl0KGFjdGlvbiwgZGF0YSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZW1pdCxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXRpYWxpemUsXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "initialize",
        "io",
        "initAPIs",
        "emit",
        "action",
        "data"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AAEA,IAAMA,aAAa,SAAbA,UAAa,CAACC,EAAD,EAAQ;AACzB;AACA,6BAAYC,QAAZ;;AAED;;;;;;;AAOC,MAAMC,OAAO,SAAPA,IAAO,CAACC,MAAD,EAASC,IAAT,EAAkB;AAC7BJ,OAAGE,IAAH,CAAQC,MAAR,EAAgBC,IAAhB;AACD,GAFD;;AAIA,SAAO;AACLF;AADK,GAAP;AAGD,CAlBD;;kBAoBe;AACbH;AADa,C",
      "file": "index.js",
      "sourceRoot": "/home/core/adapter",
      "sourcesContent": [
        "import appLoader from './AppLoader'\n\nconst initialize = (io) => {\n  // Invokes init function of each api\n  appLoader().initAPIs()\n\n\t/**\n   * Emits action to all sockets\n\t * Depreciated\n\t * Moving this logic to controller\n\t * @param action\n\t * @param data\n\t */\n  const emit = (action, data) => {\n    io.emit(action, data)\n  }\n\n  return {\n    emit,\n  }\n}\n\nexport default {\n  initialize,\n}\n"
      ]
    },
    "mtime": 1489224806861
  },
  "{\"filename\":\"/home/core/adapter/AppLoader/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/adapter/AppLoader\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./loader",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "loader"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/adapter/AppLoader/index.js",
      "filenameRelative": "/home/core/adapter/AppLoader/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/adapter/AppLoader",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/adapter/AppLoader",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _loader2.default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvYWRhcHRlci9BcHBMb2FkZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9hZGVyIGZyb20gJy4vbG9hZGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBsb2FkZXJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA",
      "file": "index.js",
      "sourceRoot": "/home/core/adapter/AppLoader",
      "sourcesContent": [
        "import loader from './loader'\n\nexport default loader\n"
      ]
    },
    "mtime": 1487417413386
  },
  "{\"filename\":\"/home/core/adapter/AppLoader/loader.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/adapter/AppLoader\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "require-all",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "requireAll"
              }
            ]
          },
          {
            "source": "lodash/forOwn",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "forOwn"
              }
            ]
          },
          {
            "source": "../../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/adapter/AppLoader/loader.js",
      "filenameRelative": "/home/core/adapter/AppLoader/loader.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "loader.js",
      "sourceFileName": "loader.js",
      "sourceRoot": "/home/core/adapter/AppLoader",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/adapter/AppLoader",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "loader"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _requireAll = require('require-all');\n\nvar _requireAll2 = _interopRequireDefault(_requireAll);\n\nvar _forOwn = require('lodash/forOwn');\n\nvar _forOwn2 = _interopRequireDefault(_forOwn);\n\nvar _config = require('../../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar loader = function loader() {\n  /**\n   * Loads APIs from APIs folder or npm modules.\n   * Folder to load APIs is decided according to NDOE_ENV value\n   */\n  function loadAPIs() {\n    var nodeEnv = _config2.default.get('NODE_ENV');\n    var rawAPIs = {};\n    if (nodeEnv === 'development') {\n      rawAPIs = (0, _requireAll2.default)(__dirname + '/../../../apps');\n    }\n    var APIs = [];\n    (0, _forOwn2.default)(rawAPIs, function (value, key) {\n      APIs.push(rawAPIs[key].index.default);\n    });\n    return APIs;\n  }\n\n  /**\n   * Init all loaded APIs\n   */\n  function initAPIs() {\n    var APIs = loadAPIs();\n    APIs.forEach(function (api) {\n      return api.init();\n    });\n  }\n\n  return {\n    initAPIs: initAPIs\n  };\n};\n\nexports.default = loader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRlci5qcyJdLCJuYW1lcyI6WyJsb2FkZXIiLCJsb2FkQVBJcyIsIm5vZGVFbnYiLCJnZXQiLCJyYXdBUElzIiwiX19kaXJuYW1lIiwiQVBJcyIsInZhbHVlIiwia2V5IiwicHVzaCIsImluZGV4IiwiZGVmYXVsdCIsImluaXRBUElzIiwiZm9yRWFjaCIsImFwaSIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsU0FBUyxTQUFUQSxNQUFTLEdBQU07QUFDcEI7Ozs7QUFJQyxXQUFTQyxRQUFULEdBQW9CO0FBQ2xCLFFBQU1DLFVBQVUsaUJBQU9DLEdBQVAsQ0FBVyxVQUFYLENBQWhCO0FBQ0EsUUFBSUMsVUFBVSxFQUFkO0FBQ0EsUUFBSUYsWUFBWSxhQUFoQixFQUErQjtBQUM3QkUsZ0JBQVUsMEJBQWNDLFNBQWQsb0JBQVY7QUFDRDtBQUNELFFBQU1DLE9BQU8sRUFBYjtBQUNBLDBCQUFPRixPQUFQLEVBQWdCLFVBQUNHLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtBQUM5QkYsV0FBS0csSUFBTCxDQUFVTCxRQUFRSSxHQUFSLEVBQWFFLEtBQWIsQ0FBbUJDLE9BQTdCO0FBQ0QsS0FGRDtBQUdBLFdBQU9MLElBQVA7QUFDRDs7QUFFRjs7O0FBR0MsV0FBU00sUUFBVCxHQUFvQjtBQUNsQixRQUFNTixPQUFPTCxVQUFiO0FBQ0FLLFNBQUtPLE9BQUwsQ0FBYTtBQUFBLGFBQU9DLElBQUlDLElBQUosRUFBUDtBQUFBLEtBQWI7QUFDRDs7QUFFRCxTQUFPO0FBQ0xIO0FBREssR0FBUDtBQUdELENBN0JEOztrQkErQmVaLE0iLCJmaWxlIjoibG9hZGVyLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2NvcmUvYWRhcHRlci9BcHBMb2FkZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVxdWlyZUFsbCBmcm9tICdyZXF1aXJlLWFsbCdcbmltcG9ydCBmb3JPd24gZnJvbSAnbG9kYXNoL2Zvck93bidcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlnJ1xuXG5jb25zdCBsb2FkZXIgPSAoKSA9PiB7XG5cdC8qKlxuXHQgKiBMb2FkcyBBUElzIGZyb20gQVBJcyBmb2xkZXIgb3IgbnBtIG1vZHVsZXMuXG5cdCAqIEZvbGRlciB0byBsb2FkIEFQSXMgaXMgZGVjaWRlZCBhY2NvcmRpbmcgdG8gTkRPRV9FTlYgdmFsdWVcblx0ICovXG4gIGZ1bmN0aW9uIGxvYWRBUElzKCkge1xuICAgIGNvbnN0IG5vZGVFbnYgPSBjb25maWcuZ2V0KCdOT0RFX0VOVicpXG4gICAgbGV0IHJhd0FQSXMgPSB7fVxuICAgIGlmIChub2RlRW52ID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICByYXdBUElzID0gcmVxdWlyZUFsbChgJHtfX2Rpcm5hbWV9Ly4uLy4uLy4uL2FwcHNgKVxuICAgIH1cbiAgICBjb25zdCBBUElzID0gW11cbiAgICBmb3JPd24ocmF3QVBJcywgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIEFQSXMucHVzaChyYXdBUElzW2tleV0uaW5kZXguZGVmYXVsdClcbiAgICB9KVxuICAgIHJldHVybiBBUElzXG4gIH1cblxuXHQvKipcblx0ICogSW5pdCBhbGwgbG9hZGVkIEFQSXNcblx0ICovXG4gIGZ1bmN0aW9uIGluaXRBUElzKCkge1xuICAgIGNvbnN0IEFQSXMgPSBsb2FkQVBJcygpXG4gICAgQVBJcy5mb3JFYWNoKGFwaSA9PiBhcGkuaW5pdCgpKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0QVBJcyxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBsb2FkZXJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "loader.js"
      ],
      "names": [
        "loader",
        "loadAPIs",
        "nodeEnv",
        "get",
        "rawAPIs",
        "__dirname",
        "APIs",
        "value",
        "key",
        "push",
        "index",
        "default",
        "initAPIs",
        "forEach",
        "api",
        "init"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,SAATA,MAAS,GAAM;AACpB;;;;AAIC,WAASC,QAAT,GAAoB;AAClB,QAAMC,UAAU,iBAAOC,GAAP,CAAW,UAAX,CAAhB;AACA,QAAIC,UAAU,EAAd;AACA,QAAIF,YAAY,aAAhB,EAA+B;AAC7BE,gBAAU,0BAAcC,SAAd,oBAAV;AACD;AACD,QAAMC,OAAO,EAAb;AACA,0BAAOF,OAAP,EAAgB,UAACG,KAAD,EAAQC,GAAR,EAAgB;AAC9BF,WAAKG,IAAL,CAAUL,QAAQI,GAAR,EAAaE,KAAb,CAAmBC,OAA7B;AACD,KAFD;AAGA,WAAOL,IAAP;AACD;;AAEF;;;AAGC,WAASM,QAAT,GAAoB;AAClB,QAAMN,OAAOL,UAAb;AACAK,SAAKO,OAAL,CAAa;AAAA,aAAOC,IAAIC,IAAJ,EAAP;AAAA,KAAb;AACD;;AAED,SAAO;AACLH;AADK,GAAP;AAGD,CA7BD;;kBA+BeZ,M",
      "file": "loader.js",
      "sourceRoot": "/home/core/adapter/AppLoader",
      "sourcesContent": [
        "import requireAll from 'require-all'\nimport forOwn from 'lodash/forOwn'\nimport config from '../../config'\n\nconst loader = () => {\n\t/**\n\t * Loads APIs from APIs folder or npm modules.\n\t * Folder to load APIs is decided according to NDOE_ENV value\n\t */\n  function loadAPIs() {\n    const nodeEnv = config.get('NODE_ENV')\n    let rawAPIs = {}\n    if (nodeEnv === 'development') {\n      rawAPIs = requireAll(`${__dirname}/../../../apps`)\n    }\n    const APIs = []\n    forOwn(rawAPIs, (value, key) => {\n      APIs.push(rawAPIs[key].index.default)\n    })\n    return APIs\n  }\n\n\t/**\n\t * Init all loaded APIs\n\t */\n  function initAPIs() {\n    const APIs = loadAPIs()\n    APIs.forEach(api => api.init())\n  }\n\n  return {\n    initAPIs,\n  }\n}\n\nexport default loader\n"
      ]
    },
    "mtime": 1489219352904
  },
  "{\"filename\":\"/home/core/models/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../bookshelf",
            "imported": [],
            "specifiers": []
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/models/index.js",
      "filenameRelative": "/home/core/models/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nrequire('../bookshelf');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvY29yZS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2Jvb2tzaGVsZicgLy8gRm9yY2UgaW5pdHMgREIgY29ubmVjdGlvblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;AAAA",
      "file": "index.js",
      "sourceRoot": "/home/core/models",
      "sourcesContent": [
        "import '../bookshelf' // Force inits DB connection\n"
      ]
    },
    "mtime": 1487848800616
  },
  "{\"filename\":\"/home/core/logger/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/core/logger\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "winston",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "winston"
              }
            ]
          },
          {
            "source": "winston-sqlite3",
            "imported": [],
            "specifiers": []
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/core/logger/index.js",
      "filenameRelative": "/home/core/logger/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/core/logger",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/core/logger",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _winston = require('winston');\n\nvar _winston2 = _interopRequireDefault(_winston);\n\nrequire('winston-sqlite3');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_winston2.default.add(_winston2.default.transports.SQLite3, {\n  database: null,\n  user: null,\n  password: null,\n  filename: 'content/data/biphub-dev.sqlite3',\n  tableName: 'Logs'\n});\n\n_winston2.default.log('info', 'Hello distributed log files!');\n_winston2.default.info('Hello again distributed logs');\n_winston2.default.info('new stuff');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFkZCIsInRyYW5zcG9ydHMiLCJTUUxpdGUzIiwiZGF0YWJhc2UiLCJ1c2VyIiwicGFzc3dvcmQiLCJmaWxlbmFtZSIsInRhYmxlTmFtZSIsImxvZyIsImluZm8iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7OztBQUVBLGtCQUFRQSxHQUFSLENBQVksa0JBQVFDLFVBQVIsQ0FBbUJDLE9BQS9CLEVBQXdDO0FBQ3RDQyxZQUFVLElBRDRCO0FBRXRDQyxRQUFNLElBRmdDO0FBR3RDQyxZQUFVLElBSDRCO0FBSXRDQyxZQUFVLGlDQUo0QjtBQUt0Q0MsYUFBVztBQUwyQixDQUF4Qzs7QUFRQSxrQkFBUUMsR0FBUixDQUFZLE1BQVosRUFBb0IsOEJBQXBCO0FBQ0Esa0JBQVFDLElBQVIsQ0FBYSw4QkFBYjtBQUNBLGtCQUFRQSxJQUFSLENBQWEsV0FBYiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9jb3JlL2xvZ2dlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3aW5zdG9uIGZyb20gJ3dpbnN0b24nXG5pbXBvcnQgJ3dpbnN0b24tc3FsaXRlMydcblxud2luc3Rvbi5hZGQod2luc3Rvbi50cmFuc3BvcnRzLlNRTGl0ZTMsIHtcbiAgZGF0YWJhc2U6IG51bGwsXG4gIHVzZXI6IG51bGwsXG4gIHBhc3N3b3JkOiBudWxsLFxuICBmaWxlbmFtZTogJ2NvbnRlbnQvZGF0YS9iaXBodWItZGV2LnNxbGl0ZTMnLFxuICB0YWJsZU5hbWU6ICdMb2dzJyxcbn0pXG5cbndpbnN0b24ubG9nKCdpbmZvJywgJ0hlbGxvIGRpc3RyaWJ1dGVkIGxvZyBmaWxlcyEnKVxud2luc3Rvbi5pbmZvKCdIZWxsbyBhZ2FpbiBkaXN0cmlidXRlZCBsb2dzJylcbndpbnN0b24uaW5mbygnbmV3IHN0dWZmJylcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "add",
        "transports",
        "SQLite3",
        "database",
        "user",
        "password",
        "filename",
        "tableName",
        "log",
        "info"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AAEA,kBAAQA,GAAR,CAAY,kBAAQC,UAAR,CAAmBC,OAA/B,EAAwC;AACtCC,YAAU,IAD4B;AAEtCC,QAAM,IAFgC;AAGtCC,YAAU,IAH4B;AAItCC,YAAU,iCAJ4B;AAKtCC,aAAW;AAL2B,CAAxC;;AAQA,kBAAQC,GAAR,CAAY,MAAZ,EAAoB,8BAApB;AACA,kBAAQC,IAAR,CAAa,8BAAb;AACA,kBAAQA,IAAR,CAAa,WAAb",
      "file": "index.js",
      "sourceRoot": "/home/core/logger",
      "sourcesContent": [
        "import winston from 'winston'\nimport 'winston-sqlite3'\n\nwinston.add(winston.transports.SQLite3, {\n  database: null,\n  user: null,\n  password: null,\n  filename: 'content/data/biphub-dev.sqlite3',\n  tableName: 'Logs',\n})\n\nwinston.log('info', 'Hello distributed log files!')\nwinston.info('Hello again distributed logs')\nwinston.info('new stuff')\n"
      ]
    },
    "mtime": 1488604523864
  },
  "{\"filename\":\"/home/apps/biphub-discord/config.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/apps/biphub-discord\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/apps/biphub-discord/config.js",
      "filenameRelative": "/home/apps/biphub-discord/config.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "config.js",
      "sourceFileName": "config.js",
      "sourceRoot": "/home/apps/biphub-discord",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/apps/biphub-discord",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "config"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'biphub-discord',\n  description: 'Discord Bip for Biphub!',\n  incomingActions: [{ type: 'webhook', endpoint: '/discord', namn: '/cardCreated' }, { type: 'webhook', endpoint: '/discord', name: '/cardDeleted' }, { type: 'webhook', endpoint: '/discord', name: '/cardMoved' }],\n  outgoingActions: [{ name: 'createCard' }, { name: 'deleteCard' }]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJuYW1lIiwiZGVzY3JpcHRpb24iLCJpbmNvbWluZ0FjdGlvbnMiLCJ0eXBlIiwiZW5kcG9pbnQiLCJuYW1uIiwib3V0Z29pbmdBY3Rpb25zIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBZTtBQUNiQSxRQUFNLGdCQURPO0FBRWJDLGVBQWEseUJBRkE7QUFHYkMsbUJBQWlCLENBQ2pCLEVBQUVDLE1BQU0sU0FBUixFQUFtQkMsVUFBVSxVQUE3QixFQUF5Q0MsTUFBTSxjQUEvQyxFQURpQixFQUVqQixFQUFFRixNQUFNLFNBQVIsRUFBbUJDLFVBQVUsVUFBN0IsRUFBeUNKLE1BQU0sY0FBL0MsRUFGaUIsRUFHakIsRUFBRUcsTUFBTSxTQUFSLEVBQW1CQyxVQUFVLFVBQTdCLEVBQXlDSixNQUFNLFlBQS9DLEVBSGlCLENBSEo7QUFRYk0sbUJBQWlCLENBQ2pCLEVBQUVOLE1BQU0sWUFBUixFQURpQixFQUVqQixFQUFFQSxNQUFNLFlBQVIsRUFGaUI7QUFSSixDIiwiZmlsZSI6ImNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHBzL2JpcGh1Yi1kaXNjb3JkIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWU6ICdiaXBodWItZGlzY29yZCcsXHJcbiAgZGVzY3JpcHRpb246ICdEaXNjb3JkIEJpcCBmb3IgQmlwaHViIScsXHJcbiAgaW5jb21pbmdBY3Rpb25zOiBbXHJcblx0XHR7IHR5cGU6ICd3ZWJob29rJywgZW5kcG9pbnQ6ICcvZGlzY29yZCcsIG5hbW46ICcvY2FyZENyZWF0ZWQnIH0sXHJcblx0XHR7IHR5cGU6ICd3ZWJob29rJywgZW5kcG9pbnQ6ICcvZGlzY29yZCcsIG5hbWU6ICcvY2FyZERlbGV0ZWQnIH0sXHJcblx0XHR7IHR5cGU6ICd3ZWJob29rJywgZW5kcG9pbnQ6ICcvZGlzY29yZCcsIG5hbWU6ICcvY2FyZE1vdmVkJyB9LFxyXG4gIF0sXHJcbiAgb3V0Z29pbmdBY3Rpb25zOiBbXHJcblx0XHR7IG5hbWU6ICdjcmVhdGVDYXJkJyB9LFxyXG5cdFx0eyBuYW1lOiAnZGVsZXRlQ2FyZCcgfSxcclxuICBdLFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "name",
        "description",
        "incomingActions",
        "type",
        "endpoint",
        "namn",
        "outgoingActions"
      ],
      "mappings": ";;;;;kBAAe;AACbA,QAAM,gBADO;AAEbC,eAAa,yBAFA;AAGbC,mBAAiB,CACjB,EAAEC,MAAM,SAAR,EAAmBC,UAAU,UAA7B,EAAyCC,MAAM,cAA/C,EADiB,EAEjB,EAAEF,MAAM,SAAR,EAAmBC,UAAU,UAA7B,EAAyCJ,MAAM,cAA/C,EAFiB,EAGjB,EAAEG,MAAM,SAAR,EAAmBC,UAAU,UAA7B,EAAyCJ,MAAM,YAA/C,EAHiB,CAHJ;AAQbM,mBAAiB,CACjB,EAAEN,MAAM,YAAR,EADiB,EAEjB,EAAEA,MAAM,YAAR,EAFiB;AARJ,C",
      "file": "config.js",
      "sourceRoot": "/home/apps/biphub-discord",
      "sourcesContent": [
        "export default {\r\n  name: 'biphub-discord',\r\n  description: 'Discord Bip for Biphub!',\r\n  incomingActions: [\r\n\t\t{ type: 'webhook', endpoint: '/discord', namn: '/cardCreated' },\r\n\t\t{ type: 'webhook', endpoint: '/discord', name: '/cardDeleted' },\r\n\t\t{ type: 'webhook', endpoint: '/discord', name: '/cardMoved' },\r\n  ],\r\n  outgoingActions: [\r\n\t\t{ name: 'createCard' },\r\n\t\t{ name: 'deleteCard' },\r\n  ],\r\n}\r\n"
      ]
    },
    "mtime": 1489496163478
  },
  "{\"filename\":\"/home/apps/biphub-discord/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/apps/biphub-discord\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "socket.io-client",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "client"
              }
            ]
          },
          {
            "source": "./config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/apps/biphub-discord/index.js",
      "filenameRelative": "/home/apps/biphub-discord/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/apps/biphub-discord",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/apps/biphub-discord",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _socket = require('socket.io-client');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init() {\n  var socket = (0, _socket2.default)('http://localhost:8080/', { query: 'bipName=' + _config2.default.name });\n  socket.on('connect', function () {});\n  socket.on('testEvent', function () {});\n  socket.on('disconnect', function () {});\n  socket.on('discord:issueCreated', function (payload) {\n    console.log('creating issue! ', payload);\n  });\n  socket.emit('REGISTER_APP', _config2.default);\n}\n\nexports.default = {\n  init: init\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJzb2NrZXQiLCJxdWVyeSIsIm5hbWUiLCJvbiIsInBheWxvYWQiLCJjb25zb2xlIiwibG9nIiwiZW1pdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0EsSUFBVCxHQUFnQjtBQUNkLE1BQU1DLFNBQVMsc0JBQU8sd0JBQVAsRUFBaUMsRUFBRUMsb0JBQWtCLGlCQUFPQyxJQUEzQixFQUFqQyxDQUFmO0FBQ0FGLFNBQU9HLEVBQVAsQ0FBVSxTQUFWLEVBQXFCLFlBQU0sQ0FDMUIsQ0FERDtBQUVBSCxTQUFPRyxFQUFQLENBQVUsV0FBVixFQUF1QixZQUFNLENBQzVCLENBREQ7QUFFQUgsU0FBT0csRUFBUCxDQUFVLFlBQVYsRUFBd0IsWUFBTSxDQUM3QixDQUREO0FBRUFILFNBQU9HLEVBQVAsQ0FBVSxzQkFBVixFQUFrQyxVQUFDQyxPQUFELEVBQWE7QUFDN0NDLFlBQVFDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ0YsT0FBaEM7QUFDRCxHQUZEO0FBR0FKLFNBQU9PLElBQVAsQ0FBWSxjQUFaO0FBQ0Q7O2tCQUVjO0FBQ2JSO0FBRGEsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHBzL2JpcGh1Yi1kaXNjb3JkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaWVudCBmcm9tICdzb2NrZXQuaW8tY2xpZW50J1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xyXG5cclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICBjb25zdCBzb2NrZXQgPSBjbGllbnQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8nLCB7IHF1ZXJ5OiBgYmlwTmFtZT0ke2NvbmZpZy5uYW1lfWAgfSlcclxuICBzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgfSlcclxuICBzb2NrZXQub24oJ3Rlc3RFdmVudCcsICgpID0+IHtcclxuICB9KVxyXG4gIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcclxuICB9KVxyXG4gIHNvY2tldC5vbignZGlzY29yZDppc3N1ZUNyZWF0ZWQnLCAocGF5bG9hZCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2NyZWF0aW5nIGlzc3VlISAnLCBwYXlsb2FkKVxyXG4gIH0pXHJcbiAgc29ja2V0LmVtaXQoJ1JFR0lTVEVSX0FQUCcsIGNvbmZpZylcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGluaXQsXHJcbn1cclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "init",
        "socket",
        "query",
        "name",
        "on",
        "payload",
        "console",
        "log",
        "emit"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,SAASA,IAAT,GAAgB;AACd,MAAMC,SAAS,sBAAO,wBAAP,EAAiC,EAAEC,oBAAkB,iBAAOC,IAA3B,EAAjC,CAAf;AACAF,SAAOG,EAAP,CAAU,SAAV,EAAqB,YAAM,CAC1B,CADD;AAEAH,SAAOG,EAAP,CAAU,WAAV,EAAuB,YAAM,CAC5B,CADD;AAEAH,SAAOG,EAAP,CAAU,YAAV,EAAwB,YAAM,CAC7B,CADD;AAEAH,SAAOG,EAAP,CAAU,sBAAV,EAAkC,UAACC,OAAD,EAAa;AAC7CC,YAAQC,GAAR,CAAY,kBAAZ,EAAgCF,OAAhC;AACD,GAFD;AAGAJ,SAAOO,IAAP,CAAY,cAAZ;AACD;;kBAEc;AACbR;AADa,C",
      "file": "index.js",
      "sourceRoot": "/home/apps/biphub-discord",
      "sourcesContent": [
        "import client from 'socket.io-client'\r\nimport config from './config'\r\n\r\nfunction init() {\r\n  const socket = client('http://localhost:8080/', { query: `bipName=${config.name}` })\r\n  socket.on('connect', () => {\r\n  })\r\n  socket.on('testEvent', () => {\r\n  })\r\n  socket.on('disconnect', () => {\r\n  })\r\n  socket.on('discord:issueCreated', (payload) => {\r\n    console.log('creating issue! ', payload)\r\n  })\r\n  socket.emit('REGISTER_APP', config)\r\n}\r\n\r\nexport default {\r\n  init,\r\n}\r\n"
      ]
    },
    "mtime": 1489496163483
  },
  "{\"filename\":\"/home/apps/biphub-slack/config.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/apps/biphub-slack\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/apps/biphub-slack/config.js",
      "filenameRelative": "/home/apps/biphub-slack/config.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "config.js",
      "sourceFileName": "config.js",
      "sourceRoot": "/home/apps/biphub-slack",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/apps/biphub-slack",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "config"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'biphub-slack',\n  description: 'Slack bip for Biphub project!',\n  instruction: 'https://api.slack.com/rtm',\n  incomingActions: {\n    accountChanged: { type: 'webhook/ws', name: 'account_changed' },\n    botAdded: { type: 'webhook/ws', name: 'bot_added' },\n    botChanged: { type: 'webhook/ws', name: 'bot_changed' },\n    channelArchived: { type: 'webhook/ws', name: 'channel_archived' },\n    channelCreated: { type: 'webhook/ws', name: 'channel_created' },\n    channelHistoryChanged: { type: 'webhook/ws', name: 'channel_history_changed' },\n    channelJoined: { type: 'webhook/ws', name: 'channel_joined' },\n    channelLeft: { type: 'webhook/ws', name: 'channel_left' },\n    channelMarked: { type: 'webhook/ws', name: 'channel_marked' },\n    channelRename: { type: 'webhook/ws', name: 'channel_rename' },\n    channelUnarchive: { type: 'webhook/ws', name: 'channel_unarchive' },\n    commandsChanged: { type: 'webhook/ws', name: 'commands_changed' },\n    dndUpdated: { type: 'webhook/ws', name: 'dnd_updated' },\n    dndUpdatedUser: { type: 'webhook/ws', name: 'dnd_updated_user' },\n    emailDomainChanged: { type: 'webhook/ws', name: 'email_domain_changed' },\n    emojiChanged: { type: 'webhook/ws', name: 'emoji_changed' },\n    fileChange: { type: 'webhook/ws', name: 'file_change' },\n    message: { type: 'webhook/ws', name: 'message', conditions: ['matches', 'contains'] }\n  },\n  outgoingActions: [{ name: 'createIssue' }, { name: 'deleteIssue' }],\n  requirements: {\n    auth: {\n      method: 'token'\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJuYW1lIiwiZGVzY3JpcHRpb24iLCJpbnN0cnVjdGlvbiIsImluY29taW5nQWN0aW9ucyIsImFjY291bnRDaGFuZ2VkIiwidHlwZSIsImJvdEFkZGVkIiwiYm90Q2hhbmdlZCIsImNoYW5uZWxBcmNoaXZlZCIsImNoYW5uZWxDcmVhdGVkIiwiY2hhbm5lbEhpc3RvcnlDaGFuZ2VkIiwiY2hhbm5lbEpvaW5lZCIsImNoYW5uZWxMZWZ0IiwiY2hhbm5lbE1hcmtlZCIsImNoYW5uZWxSZW5hbWUiLCJjaGFubmVsVW5hcmNoaXZlIiwiY29tbWFuZHNDaGFuZ2VkIiwiZG5kVXBkYXRlZCIsImRuZFVwZGF0ZWRVc2VyIiwiZW1haWxEb21haW5DaGFuZ2VkIiwiZW1vamlDaGFuZ2VkIiwiZmlsZUNoYW5nZSIsIm1lc3NhZ2UiLCJjb25kaXRpb25zIiwib3V0Z29pbmdBY3Rpb25zIiwicmVxdWlyZW1lbnRzIiwiYXV0aCIsIm1ldGhvZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQWU7QUFDYkEsUUFBTSxjQURPO0FBRWJDLGVBQWEsK0JBRkE7QUFHYkMsZUFBYSwyQkFIQTtBQUliQyxtQkFBaUI7QUFDZkMsb0JBQWdCLEVBQUVDLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxpQkFBNUIsRUFERDtBQUVmTSxjQUFVLEVBQUVELE1BQU0sWUFBUixFQUFzQkwsTUFBTSxXQUE1QixFQUZLO0FBR2ZPLGdCQUFZLEVBQUVGLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxhQUE1QixFQUhHO0FBSWZRLHFCQUFpQixFQUFFSCxNQUFNLFlBQVIsRUFBc0JMLE1BQU0sa0JBQTVCLEVBSkY7QUFLZlMsb0JBQWdCLEVBQUVKLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxpQkFBNUIsRUFMRDtBQU1mVSwyQkFBdUIsRUFBRUwsTUFBTSxZQUFSLEVBQXNCTCxNQUFNLHlCQUE1QixFQU5SO0FBT2ZXLG1CQUFlLEVBQUVOLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxnQkFBNUIsRUFQQTtBQVFmWSxpQkFBYSxFQUFFUCxNQUFNLFlBQVIsRUFBc0JMLE1BQU0sY0FBNUIsRUFSRTtBQVNmYSxtQkFBZSxFQUFFUixNQUFNLFlBQVIsRUFBc0JMLE1BQU0sZ0JBQTVCLEVBVEE7QUFVZmMsbUJBQWUsRUFBRVQsTUFBTSxZQUFSLEVBQXNCTCxNQUFNLGdCQUE1QixFQVZBO0FBV2ZlLHNCQUFrQixFQUFFVixNQUFNLFlBQVIsRUFBc0JMLE1BQU0sbUJBQTVCLEVBWEg7QUFZZmdCLHFCQUFpQixFQUFFWCxNQUFNLFlBQVIsRUFBc0JMLE1BQU0sa0JBQTVCLEVBWkY7QUFhZmlCLGdCQUFZLEVBQUVaLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxhQUE1QixFQWJHO0FBY2ZrQixvQkFBZ0IsRUFBRWIsTUFBTSxZQUFSLEVBQXNCTCxNQUFNLGtCQUE1QixFQWREO0FBZWZtQix3QkFBb0IsRUFBRWQsTUFBTSxZQUFSLEVBQXNCTCxNQUFNLHNCQUE1QixFQWZMO0FBZ0Jmb0Isa0JBQWMsRUFBRWYsTUFBTSxZQUFSLEVBQXNCTCxNQUFNLGVBQTVCLEVBaEJDO0FBaUJmcUIsZ0JBQVksRUFBRWhCLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxhQUE1QixFQWpCRztBQWtCZnNCLGFBQVMsRUFBRWpCLE1BQU0sWUFBUixFQUFzQkwsTUFBTSxTQUE1QixFQUF1Q3VCLFlBQVksQ0FBQyxTQUFELEVBQVksVUFBWixDQUFuRDtBQWxCTSxHQUpKO0FBd0JiQyxtQkFBaUIsQ0FDakIsRUFBRXhCLE1BQU0sYUFBUixFQURpQixFQUVqQixFQUFFQSxNQUFNLGFBQVIsRUFGaUIsQ0F4Qko7QUE0QmJ5QixnQkFBYztBQUNaQyxVQUFNO0FBQ0pDLGNBQVE7QUFESjtBQURNO0FBNUJELEMiLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcHMvYmlwaHViLXNsYWNrIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWU6ICdiaXBodWItc2xhY2snLFxyXG4gIGRlc2NyaXB0aW9uOiAnU2xhY2sgYmlwIGZvciBCaXBodWIgcHJvamVjdCEnLFxyXG4gIGluc3RydWN0aW9uOiAnaHR0cHM6Ly9hcGkuc2xhY2suY29tL3J0bScsXHJcbiAgaW5jb21pbmdBY3Rpb25zOiB7XHJcbiAgICBhY2NvdW50Q2hhbmdlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdhY2NvdW50X2NoYW5nZWQnIH0sXHJcbiAgICBib3RBZGRlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdib3RfYWRkZWQnIH0sXHJcbiAgICBib3RDaGFuZ2VkOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2JvdF9jaGFuZ2VkJyB9LFxyXG4gICAgY2hhbm5lbEFyY2hpdmVkOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2NoYW5uZWxfYXJjaGl2ZWQnIH0sXHJcbiAgICBjaGFubmVsQ3JlYXRlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdjaGFubmVsX2NyZWF0ZWQnIH0sXHJcbiAgICBjaGFubmVsSGlzdG9yeUNoYW5nZWQ6IHsgdHlwZTogJ3dlYmhvb2svd3MnLCBuYW1lOiAnY2hhbm5lbF9oaXN0b3J5X2NoYW5nZWQnIH0sXHJcbiAgICBjaGFubmVsSm9pbmVkOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2NoYW5uZWxfam9pbmVkJyB9LFxyXG4gICAgY2hhbm5lbExlZnQ6IHsgdHlwZTogJ3dlYmhvb2svd3MnLCBuYW1lOiAnY2hhbm5lbF9sZWZ0JyB9LFxyXG4gICAgY2hhbm5lbE1hcmtlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdjaGFubmVsX21hcmtlZCcgfSxcclxuICAgIGNoYW5uZWxSZW5hbWU6IHsgdHlwZTogJ3dlYmhvb2svd3MnLCBuYW1lOiAnY2hhbm5lbF9yZW5hbWUnIH0sXHJcbiAgICBjaGFubmVsVW5hcmNoaXZlOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2NoYW5uZWxfdW5hcmNoaXZlJyB9LFxyXG4gICAgY29tbWFuZHNDaGFuZ2VkOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2NvbW1hbmRzX2NoYW5nZWQnIH0sXHJcbiAgICBkbmRVcGRhdGVkOiB7IHR5cGU6ICd3ZWJob29rL3dzJywgbmFtZTogJ2RuZF91cGRhdGVkJyB9LFxyXG4gICAgZG5kVXBkYXRlZFVzZXI6IHsgdHlwZTogJ3dlYmhvb2svd3MnLCBuYW1lOiAnZG5kX3VwZGF0ZWRfdXNlcicgfSxcclxuICAgIGVtYWlsRG9tYWluQ2hhbmdlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdlbWFpbF9kb21haW5fY2hhbmdlZCcgfSxcclxuICAgIGVtb2ppQ2hhbmdlZDogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdlbW9qaV9jaGFuZ2VkJyB9LFxyXG4gICAgZmlsZUNoYW5nZTogeyB0eXBlOiAnd2ViaG9vay93cycsIG5hbWU6ICdmaWxlX2NoYW5nZScgfSxcclxuICAgIG1lc3NhZ2U6IHsgdHlwZTogJ3dlYmhvb2svd3MnLCBuYW1lOiAnbWVzc2FnZScsIGNvbmRpdGlvbnM6IFsnbWF0Y2hlcycsICdjb250YWlucyddIH0sXHJcbiAgfSxcclxuICBvdXRnb2luZ0FjdGlvbnM6IFtcclxuXHRcdHsgbmFtZTogJ2NyZWF0ZUlzc3VlJyB9LFxyXG5cdFx0eyBuYW1lOiAnZGVsZXRlSXNzdWUnIH0sXHJcbiAgXSxcclxuICByZXF1aXJlbWVudHM6IHtcclxuICAgIGF1dGg6IHtcclxuICAgICAgbWV0aG9kOiAndG9rZW4nLFxyXG4gICAgfSxcclxuICB9LFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "name",
        "description",
        "instruction",
        "incomingActions",
        "accountChanged",
        "type",
        "botAdded",
        "botChanged",
        "channelArchived",
        "channelCreated",
        "channelHistoryChanged",
        "channelJoined",
        "channelLeft",
        "channelMarked",
        "channelRename",
        "channelUnarchive",
        "commandsChanged",
        "dndUpdated",
        "dndUpdatedUser",
        "emailDomainChanged",
        "emojiChanged",
        "fileChange",
        "message",
        "conditions",
        "outgoingActions",
        "requirements",
        "auth",
        "method"
      ],
      "mappings": ";;;;;kBAAe;AACbA,QAAM,cADO;AAEbC,eAAa,+BAFA;AAGbC,eAAa,2BAHA;AAIbC,mBAAiB;AACfC,oBAAgB,EAAEC,MAAM,YAAR,EAAsBL,MAAM,iBAA5B,EADD;AAEfM,cAAU,EAAED,MAAM,YAAR,EAAsBL,MAAM,WAA5B,EAFK;AAGfO,gBAAY,EAAEF,MAAM,YAAR,EAAsBL,MAAM,aAA5B,EAHG;AAIfQ,qBAAiB,EAAEH,MAAM,YAAR,EAAsBL,MAAM,kBAA5B,EAJF;AAKfS,oBAAgB,EAAEJ,MAAM,YAAR,EAAsBL,MAAM,iBAA5B,EALD;AAMfU,2BAAuB,EAAEL,MAAM,YAAR,EAAsBL,MAAM,yBAA5B,EANR;AAOfW,mBAAe,EAAEN,MAAM,YAAR,EAAsBL,MAAM,gBAA5B,EAPA;AAQfY,iBAAa,EAAEP,MAAM,YAAR,EAAsBL,MAAM,cAA5B,EARE;AASfa,mBAAe,EAAER,MAAM,YAAR,EAAsBL,MAAM,gBAA5B,EATA;AAUfc,mBAAe,EAAET,MAAM,YAAR,EAAsBL,MAAM,gBAA5B,EAVA;AAWfe,sBAAkB,EAAEV,MAAM,YAAR,EAAsBL,MAAM,mBAA5B,EAXH;AAYfgB,qBAAiB,EAAEX,MAAM,YAAR,EAAsBL,MAAM,kBAA5B,EAZF;AAafiB,gBAAY,EAAEZ,MAAM,YAAR,EAAsBL,MAAM,aAA5B,EAbG;AAcfkB,oBAAgB,EAAEb,MAAM,YAAR,EAAsBL,MAAM,kBAA5B,EAdD;AAefmB,wBAAoB,EAAEd,MAAM,YAAR,EAAsBL,MAAM,sBAA5B,EAfL;AAgBfoB,kBAAc,EAAEf,MAAM,YAAR,EAAsBL,MAAM,eAA5B,EAhBC;AAiBfqB,gBAAY,EAAEhB,MAAM,YAAR,EAAsBL,MAAM,aAA5B,EAjBG;AAkBfsB,aAAS,EAAEjB,MAAM,YAAR,EAAsBL,MAAM,SAA5B,EAAuCuB,YAAY,CAAC,SAAD,EAAY,UAAZ,CAAnD;AAlBM,GAJJ;AAwBbC,mBAAiB,CACjB,EAAExB,MAAM,aAAR,EADiB,EAEjB,EAAEA,MAAM,aAAR,EAFiB,CAxBJ;AA4BbyB,gBAAc;AACZC,UAAM;AACJC,cAAQ;AADJ;AADM;AA5BD,C",
      "file": "config.js",
      "sourceRoot": "/home/apps/biphub-slack",
      "sourcesContent": [
        "export default {\r\n  name: 'biphub-slack',\r\n  description: 'Slack bip for Biphub project!',\r\n  instruction: 'https://api.slack.com/rtm',\r\n  incomingActions: {\r\n    accountChanged: { type: 'webhook/ws', name: 'account_changed' },\r\n    botAdded: { type: 'webhook/ws', name: 'bot_added' },\r\n    botChanged: { type: 'webhook/ws', name: 'bot_changed' },\r\n    channelArchived: { type: 'webhook/ws', name: 'channel_archived' },\r\n    channelCreated: { type: 'webhook/ws', name: 'channel_created' },\r\n    channelHistoryChanged: { type: 'webhook/ws', name: 'channel_history_changed' },\r\n    channelJoined: { type: 'webhook/ws', name: 'channel_joined' },\r\n    channelLeft: { type: 'webhook/ws', name: 'channel_left' },\r\n    channelMarked: { type: 'webhook/ws', name: 'channel_marked' },\r\n    channelRename: { type: 'webhook/ws', name: 'channel_rename' },\r\n    channelUnarchive: { type: 'webhook/ws', name: 'channel_unarchive' },\r\n    commandsChanged: { type: 'webhook/ws', name: 'commands_changed' },\r\n    dndUpdated: { type: 'webhook/ws', name: 'dnd_updated' },\r\n    dndUpdatedUser: { type: 'webhook/ws', name: 'dnd_updated_user' },\r\n    emailDomainChanged: { type: 'webhook/ws', name: 'email_domain_changed' },\r\n    emojiChanged: { type: 'webhook/ws', name: 'emoji_changed' },\r\n    fileChange: { type: 'webhook/ws', name: 'file_change' },\r\n    message: { type: 'webhook/ws', name: 'message', conditions: ['matches', 'contains'] },\r\n  },\r\n  outgoingActions: [\r\n\t\t{ name: 'createIssue' },\r\n\t\t{ name: 'deleteIssue' },\r\n  ],\r\n  requirements: {\r\n    auth: {\r\n      method: 'token',\r\n    },\r\n  },\r\n}\r\n"
      ]
    },
    "mtime": 1489496163488
  },
  "{\"filename\":\"/home/apps/biphub-slack/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/apps/biphub-slack\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "socket.io-client",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "client"
              }
            ]
          },
          {
            "source": "slackbots",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "SlackBots"
              }
            ]
          },
          {
            "source": "./config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/apps/biphub-slack/index.js",
      "filenameRelative": "/home/apps/biphub-slack/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/apps/biphub-slack",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/apps/biphub-slack",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _socket = require('socket.io-client');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _slackbots = require('slackbots');\n\nvar _slackbots2 = _interopRequireDefault(_slackbots);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Initiates this App\r\n */\nfunction init() {\n  var socket = (0, _socket2.default)('http://localhost:8080/', { query: 'bipName=' + _config2.default.name });\n  socket.on('connect', function () {});\n\n  socket.on('disconnect', function () {\n    // TODO: Implement reconnect\n  });\n  socket.on('test', function () {\n    console.log('test pubsub from client');\n  });\n\n  // Register trello Bip\n  socket.emit('REGISTER_APP', _config2.default);\n\n  // Slack test\n  var bot = new _slackbots2.default({\n    token: 'xoxb-153818245495-tokNO6F1RKrFj15IGXfZBnpQ',\n    name: 'biphubbot'\n  });\n\n  bot.on('start', function () {\n    // more information about additional params https://api.slack.com/methods/chat.postMessage\n    // const params = {\n    //  icon_emoji: ':cat:',\n    // }\n\n    // define channel, where bot exist. You can adjust it there https://my.slack.com/services\n    // bot.postMessageToChannel('general', 'meow!', params)\n\n    // define existing username instead of 'user_name'\n    // bot.postMessageToUser('visualbbasic', 'meow!', params)\n\n    // If you add a 'slackbot' property,\n    // you will post to another user's slackbot channel instead of a direct message\n    // bot.postMessageToUser('user_name', 'meow!', { slackbot: true, icon_emoji: ':cat:' })\n\n    // define private group instead of 'private_group', where bot exist\n    // bot.postMessageToGroup('private_group', 'meow!', params)\n  });\n\n  bot.on('message', function (data) {\n    // all ingoing events https://api.slack.com/rtm\n    var type = data.type;\n\n    var payload = {};\n    switch (type) {\n      case 'message':\n        console.log(data);\n        payload.event = 'INCOMING_ACTION';\n        payload.data = data;\n        payload.meta = _config2.default.incomingActions.message;\n        break;\n      default:\n        console.log('nothing!');\n        break;\n    }\n    socket.emit(payload.event, formatPayload(payload.data, payload.meta));\n  });\n}\n\n/**\r\n * Formats payload\r\n * @param payload\r\n * @param meta\r\n * @returns {{payload: *, meta: *}}\r\n */\nfunction formatPayload(payload, meta) {\n  return {\n    payload: payload,\n    meta: meta\n  };\n}\n\nvar getConfig = function getConfig() {\n  return _config2.default;\n};\n\nexports.default = {\n  init: init,\n  getConfig: getConfig\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJzb2NrZXQiLCJxdWVyeSIsIm5hbWUiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlbWl0IiwiYm90IiwidG9rZW4iLCJkYXRhIiwidHlwZSIsInBheWxvYWQiLCJldmVudCIsIm1ldGEiLCJpbmNvbWluZ0FjdGlvbnMiLCJtZXNzYWdlIiwiZm9ybWF0UGF5bG9hZCIsImdldENvbmZpZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR0EsU0FBU0EsSUFBVCxHQUFnQjtBQUNkLE1BQU1DLFNBQVMsc0JBQU8sd0JBQVAsRUFBaUMsRUFBRUMsb0JBQWtCLGlCQUFPQyxJQUEzQixFQUFqQyxDQUFmO0FBQ0FGLFNBQU9HLEVBQVAsQ0FBVSxTQUFWLEVBQXFCLFlBQU0sQ0FDMUIsQ0FERDs7QUFHQUgsU0FBT0csRUFBUCxDQUFVLFlBQVYsRUFBd0IsWUFBTTtBQUM1QjtBQUNELEdBRkQ7QUFHQUgsU0FBT0csRUFBUCxDQUFVLE1BQVYsRUFBa0IsWUFBTTtBQUN0QkMsWUFBUUMsR0FBUixDQUFZLHlCQUFaO0FBQ0QsR0FGRDs7QUFJQTtBQUNBTCxTQUFPTSxJQUFQLENBQVksY0FBWjs7QUFFQTtBQUNBLE1BQU1DLE1BQU0sd0JBQWM7QUFDeEJDLFdBQU8sNENBRGlCO0FBRXhCTixVQUFNO0FBRmtCLEdBQWQsQ0FBWjs7QUFLQUssTUFBSUosRUFBSixDQUFPLE9BQVAsRUFBZ0IsWUFBTTtBQUN0QjtBQUNBO0FBQ0U7QUFDRjs7QUFFQTtBQUNFOztBQUVGO0FBQ0U7O0FBRUY7QUFDQTtBQUNFOztBQUVGO0FBQ0U7QUFDRCxHQWxCRDs7QUFvQkFJLE1BQUlKLEVBQUosQ0FBTyxTQUFQLEVBQWtCLFVBQUNNLElBQUQsRUFBVTtBQUM1QjtBQUQ0QixRQUVsQkMsSUFGa0IsR0FFVEQsSUFGUyxDQUVsQkMsSUFGa0I7O0FBRzFCLFFBQU1DLFVBQVUsRUFBaEI7QUFDQSxZQUFRRCxJQUFSO0FBQ0UsV0FBSyxTQUFMO0FBQ0VOLGdCQUFRQyxHQUFSLENBQVlJLElBQVo7QUFDQUUsZ0JBQVFDLEtBQVIsR0FBZ0IsaUJBQWhCO0FBQ0FELGdCQUFRRixJQUFSLEdBQWVBLElBQWY7QUFDQUUsZ0JBQVFFLElBQVIsR0FBZSxpQkFBT0MsZUFBUCxDQUF1QkMsT0FBdEM7QUFDQTtBQUNGO0FBQ0VYLGdCQUFRQyxHQUFSLENBQVksVUFBWjtBQUNBO0FBVEo7QUFXQUwsV0FBT00sSUFBUCxDQUFZSyxRQUFRQyxLQUFwQixFQUEyQkksY0FBY0wsUUFBUUYsSUFBdEIsRUFBNEJFLFFBQVFFLElBQXBDLENBQTNCO0FBQ0QsR0FoQkQ7QUFpQkQ7O0FBRUQ7Ozs7OztBQU1BLFNBQVNHLGFBQVQsQ0FBdUJMLE9BQXZCLEVBQWdDRSxJQUFoQyxFQUFzQztBQUNwQyxTQUFPO0FBQ0xGLG9CQURLO0FBRUxFO0FBRkssR0FBUDtBQUlEOztBQUVELElBQU1JLFlBQVksU0FBWkEsU0FBWTtBQUFBO0FBQUEsQ0FBbEI7O2tCQUVlO0FBQ2JsQixZQURhO0FBRWJrQjtBQUZhLEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwcy9iaXBodWItc2xhY2siLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xpZW50IGZyb20gJ3NvY2tldC5pby1jbGllbnQnXHJcbmltcG9ydCBTbGFja0JvdHMgZnJvbSAnc2xhY2tib3RzJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYXRlcyB0aGlzIEFwcFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICBjb25zdCBzb2NrZXQgPSBjbGllbnQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8nLCB7IHF1ZXJ5OiBgYmlwTmFtZT0ke2NvbmZpZy5uYW1lfWAgfSlcclxuICBzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgfSlcclxuXHJcbiAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xyXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IHJlY29ubmVjdFxyXG4gIH0pXHJcbiAgc29ja2V0Lm9uKCd0ZXN0JywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ3Rlc3QgcHVic3ViIGZyb20gY2xpZW50JylcclxuICB9KVxyXG5cclxuICAvLyBSZWdpc3RlciB0cmVsbG8gQmlwXHJcbiAgc29ja2V0LmVtaXQoJ1JFR0lTVEVSX0FQUCcsIGNvbmZpZylcclxuXHJcbiAgLy8gU2xhY2sgdGVzdFxyXG4gIGNvbnN0IGJvdCA9IG5ldyBTbGFja0JvdHMoe1xyXG4gICAgdG9rZW46ICd4b3hiLTE1MzgxODI0NTQ5NS10b2tOTzZGMVJLckZqMTVJR1hmWkJucFEnLFxyXG4gICAgbmFtZTogJ2JpcGh1YmJvdCcsXHJcbiAgfSlcclxuXHJcbiAgYm90Lm9uKCdzdGFydCcsICgpID0+IHtcclxuXHRcdC8vIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgYWRkaXRpb25hbCBwYXJhbXMgaHR0cHM6Ly9hcGkuc2xhY2suY29tL21ldGhvZHMvY2hhdC5wb3N0TWVzc2FnZVxyXG5cdFx0Ly8gY29uc3QgcGFyYW1zID0ge1xyXG4gICAgLy8gIGljb25fZW1vamk6ICc6Y2F0OicsXHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly8gZGVmaW5lIGNoYW5uZWwsIHdoZXJlIGJvdCBleGlzdC4gWW91IGNhbiBhZGp1c3QgaXQgdGhlcmUgaHR0cHM6Ly9teS5zbGFjay5jb20vc2VydmljZXNcclxuICAgIC8vIGJvdC5wb3N0TWVzc2FnZVRvQ2hhbm5lbCgnZ2VuZXJhbCcsICdtZW93IScsIHBhcmFtcylcclxuXHJcblx0XHQvLyBkZWZpbmUgZXhpc3RpbmcgdXNlcm5hbWUgaW5zdGVhZCBvZiAndXNlcl9uYW1lJ1xyXG4gICAgLy8gYm90LnBvc3RNZXNzYWdlVG9Vc2VyKCd2aXN1YWxiYmFzaWMnLCAnbWVvdyEnLCBwYXJhbXMpXHJcblxyXG5cdFx0Ly8gSWYgeW91IGFkZCBhICdzbGFja2JvdCcgcHJvcGVydHksXHJcblx0XHQvLyB5b3Ugd2lsbCBwb3N0IHRvIGFub3RoZXIgdXNlcidzIHNsYWNrYm90IGNoYW5uZWwgaW5zdGVhZCBvZiBhIGRpcmVjdCBtZXNzYWdlXHJcbiAgICAvLyBib3QucG9zdE1lc3NhZ2VUb1VzZXIoJ3VzZXJfbmFtZScsICdtZW93IScsIHsgc2xhY2tib3Q6IHRydWUsIGljb25fZW1vamk6ICc6Y2F0OicgfSlcclxuXHJcblx0XHQvLyBkZWZpbmUgcHJpdmF0ZSBncm91cCBpbnN0ZWFkIG9mICdwcml2YXRlX2dyb3VwJywgd2hlcmUgYm90IGV4aXN0XHJcbiAgICAvLyBib3QucG9zdE1lc3NhZ2VUb0dyb3VwKCdwcml2YXRlX2dyb3VwJywgJ21lb3chJywgcGFyYW1zKVxyXG4gIH0pXHJcblxyXG4gIGJvdC5vbignbWVzc2FnZScsIChkYXRhKSA9PiB7XHJcblx0XHQvLyBhbGwgaW5nb2luZyBldmVudHMgaHR0cHM6Ly9hcGkuc2xhY2suY29tL3J0bVxyXG4gICAgY29uc3QgeyB0eXBlIH0gPSBkYXRhXHJcbiAgICBjb25zdCBwYXlsb2FkID0ge31cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICdtZXNzYWdlJzpcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIHBheWxvYWQuZXZlbnQgPSAnSU5DT01JTkdfQUNUSU9OJ1xyXG4gICAgICAgIHBheWxvYWQuZGF0YSA9IGRhdGFcclxuICAgICAgICBwYXlsb2FkLm1ldGEgPSBjb25maWcuaW5jb21pbmdBY3Rpb25zLm1lc3NhZ2VcclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdub3RoaW5nIScpXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIHNvY2tldC5lbWl0KHBheWxvYWQuZXZlbnQsIGZvcm1hdFBheWxvYWQocGF5bG9hZC5kYXRhLCBwYXlsb2FkLm1ldGEpKVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtYXRzIHBheWxvYWRcclxuICogQHBhcmFtIHBheWxvYWRcclxuICogQHBhcmFtIG1ldGFcclxuICogQHJldHVybnMge3twYXlsb2FkOiAqLCBtZXRhOiAqfX1cclxuICovXHJcbmZ1bmN0aW9uIGZvcm1hdFBheWxvYWQocGF5bG9hZCwgbWV0YSkge1xyXG4gIHJldHVybiB7XHJcbiAgICBwYXlsb2FkLFxyXG4gICAgbWV0YSxcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGdldENvbmZpZyA9ICgpID0+IGNvbmZpZ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGluaXQsXHJcbiAgZ2V0Q29uZmlnLFxyXG59XHJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "init",
        "socket",
        "query",
        "name",
        "on",
        "console",
        "log",
        "emit",
        "bot",
        "token",
        "data",
        "type",
        "payload",
        "event",
        "meta",
        "incomingActions",
        "message",
        "formatPayload",
        "getConfig"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,SAASA,IAAT,GAAgB;AACd,MAAMC,SAAS,sBAAO,wBAAP,EAAiC,EAAEC,oBAAkB,iBAAOC,IAA3B,EAAjC,CAAf;AACAF,SAAOG,EAAP,CAAU,SAAV,EAAqB,YAAM,CAC1B,CADD;;AAGAH,SAAOG,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5B;AACD,GAFD;AAGAH,SAAOG,EAAP,CAAU,MAAV,EAAkB,YAAM;AACtBC,YAAQC,GAAR,CAAY,yBAAZ;AACD,GAFD;;AAIA;AACAL,SAAOM,IAAP,CAAY,cAAZ;;AAEA;AACA,MAAMC,MAAM,wBAAc;AACxBC,WAAO,4CADiB;AAExBN,UAAM;AAFkB,GAAd,CAAZ;;AAKAK,MAAIJ,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACtB;AACA;AACE;AACF;;AAEA;AACE;;AAEF;AACE;;AAEF;AACA;AACE;;AAEF;AACE;AACD,GAlBD;;AAoBAI,MAAIJ,EAAJ,CAAO,SAAP,EAAkB,UAACM,IAAD,EAAU;AAC5B;AAD4B,QAElBC,IAFkB,GAETD,IAFS,CAElBC,IAFkB;;AAG1B,QAAMC,UAAU,EAAhB;AACA,YAAQD,IAAR;AACE,WAAK,SAAL;AACEN,gBAAQC,GAAR,CAAYI,IAAZ;AACAE,gBAAQC,KAAR,GAAgB,iBAAhB;AACAD,gBAAQF,IAAR,GAAeA,IAAf;AACAE,gBAAQE,IAAR,GAAe,iBAAOC,eAAP,CAAuBC,OAAtC;AACA;AACF;AACEX,gBAAQC,GAAR,CAAY,UAAZ;AACA;AATJ;AAWAL,WAAOM,IAAP,CAAYK,QAAQC,KAApB,EAA2BI,cAAcL,QAAQF,IAAtB,EAA4BE,QAAQE,IAApC,CAA3B;AACD,GAhBD;AAiBD;;AAED;;;;;;AAMA,SAASG,aAAT,CAAuBL,OAAvB,EAAgCE,IAAhC,EAAsC;AACpC,SAAO;AACLF,oBADK;AAELE;AAFK,GAAP;AAID;;AAED,IAAMI,YAAY,SAAZA,SAAY;AAAA;AAAA,CAAlB;;kBAEe;AACblB,YADa;AAEbkB;AAFa,C",
      "file": "index.js",
      "sourceRoot": "/home/apps/biphub-slack",
      "sourcesContent": [
        "import client from 'socket.io-client'\r\nimport SlackBots from 'slackbots'\r\nimport config from './config'\r\n\r\n/**\r\n * Initiates this App\r\n */\r\nfunction init() {\r\n  const socket = client('http://localhost:8080/', { query: `bipName=${config.name}` })\r\n  socket.on('connect', () => {\r\n  })\r\n\r\n  socket.on('disconnect', () => {\r\n    // TODO: Implement reconnect\r\n  })\r\n  socket.on('test', () => {\r\n    console.log('test pubsub from client')\r\n  })\r\n\r\n  // Register trello Bip\r\n  socket.emit('REGISTER_APP', config)\r\n\r\n  // Slack test\r\n  const bot = new SlackBots({\r\n    token: 'xoxb-153818245495-tokNO6F1RKrFj15IGXfZBnpQ',\r\n    name: 'biphubbot',\r\n  })\r\n\r\n  bot.on('start', () => {\r\n\t\t// more information about additional params https://api.slack.com/methods/chat.postMessage\r\n\t\t// const params = {\r\n    //  icon_emoji: ':cat:',\r\n\t\t// }\r\n\r\n\t\t// define channel, where bot exist. You can adjust it there https://my.slack.com/services\r\n    // bot.postMessageToChannel('general', 'meow!', params)\r\n\r\n\t\t// define existing username instead of 'user_name'\r\n    // bot.postMessageToUser('visualbbasic', 'meow!', params)\r\n\r\n\t\t// If you add a 'slackbot' property,\r\n\t\t// you will post to another user's slackbot channel instead of a direct message\r\n    // bot.postMessageToUser('user_name', 'meow!', { slackbot: true, icon_emoji: ':cat:' })\r\n\r\n\t\t// define private group instead of 'private_group', where bot exist\r\n    // bot.postMessageToGroup('private_group', 'meow!', params)\r\n  })\r\n\r\n  bot.on('message', (data) => {\r\n\t\t// all ingoing events https://api.slack.com/rtm\r\n    const { type } = data\r\n    const payload = {}\r\n    switch (type) {\r\n      case 'message':\r\n        console.log(data)\r\n        payload.event = 'INCOMING_ACTION'\r\n        payload.data = data\r\n        payload.meta = config.incomingActions.message\r\n        break\r\n      default:\r\n        console.log('nothing!')\r\n        break\r\n    }\r\n    socket.emit(payload.event, formatPayload(payload.data, payload.meta))\r\n  })\r\n}\r\n\r\n/**\r\n * Formats payload\r\n * @param payload\r\n * @param meta\r\n * @returns {{payload: *, meta: *}}\r\n */\r\nfunction formatPayload(payload, meta) {\r\n  return {\r\n    payload,\r\n    meta,\r\n  }\r\n}\r\n\r\nconst getConfig = () => config\r\n\r\nexport default {\r\n  init,\r\n  getConfig,\r\n}\r\n"
      ]
    },
    "mtime": 1489496163494
  }
}